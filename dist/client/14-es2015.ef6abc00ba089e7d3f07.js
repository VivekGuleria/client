(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"26d3":function(t,e,c){"use strict";c.r(e),c.d(e,"BatchModule",(function(){return q}));var n=c("SVse"),a=c("iInd"),i=c("Iab2"),o=c("8Y7J"),r=c("AytR"),s=c("IheW"),l=c("qfBg");let d=(()=>{class t{constructor(t,e){this.http=t,this.userService=e,this.baseUrl=r.a.url,this.http.get("assets/config/config.prod.json").subscribe(t=>{this.userService.changeUrl(t)})}batchUpload(t,e){let c=new FormData;return c.append("file",t),c.append("uploadedBy",e.uploadedBy),c.append("merchantID",e.merchantID),c.append("merchantType",e.merchantType),this.http.post(this.userService.urlValue.url+"/api/batch/upload",c)}getUploadList(t){return this.http.post(this.userService.urlValue.url+"/api/batch/batch-list",t)}getRejectedRecords(t){return console.log(t),this.http.post(this.userService.urlValue.url+"/api/batch/batch-reject-report",t,{responseType:"text"})}}return t.\u0275fac=function(e){return new(e||t)(o.fc(s.b),o.fc(l.a))},t.\u0275prov=o.Rb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function b(t,e){if(1&t&&(o.bc(0,"label"),o.Qc(1),o.ac()),2&t){const t=o.nc().$implicit;o.Kb(t.lclass),o.Ib(1),o.Sc("",t.label," :")}}function p(t,e){if(1&t&&(o.bc(0,"label"),o.Qc(1),o.ac()),2&t){const t=o.nc().$implicit,e=o.nc(2);o.Kb(null==t?null:t.vclass),o.Ib(1),o.Rc(e.batchDetails[t.key])}}function u(t,e){if(1&t&&(o.bc(0,"label"),o.Qc(1),o.ac()),2&t){const t=o.nc().$implicit;o.Kb(null==t?null:t.lclass),o.Ib(1),o.Sc("",t.label," : ")}}function h(t,e){if(1&t&&(o.bc(0,"label"),o.Qc(1),o.oc(2,"date"),o.ac()),2&t){const t=o.nc().$implicit,e=o.nc(2);o.Kb(null==t?null:t.vclass),o.Ib(1),o.Rc(o.qc(2,4,e.batchDetails[t.key],"dd/MM/yyyy h:mma"))}}function g(t,e){if(1&t&&(o.bc(0,"li"),o.Oc(1,b,2,4,"label",17),o.Oc(2,p,2,4,"label",17),o.Oc(3,u,2,4,"label",17),o.Oc(4,h,3,7,"label",17),o.ac()),2&t){const t=e.$implicit;o.Ib(1),o.uc("ngIf","createdAt"!=t.key&&"updatedAt"!=t.key),o.Ib(1),o.uc("ngIf","createdAt"!=t.key&&"updatedAt"!=t.key),o.Ib(1),o.uc("ngIf","createdAt"==t.key||"updatedAt"==t.key),o.Ib(1),o.uc("ngIf","createdAt"==t.key||"updatedAt"==t.key)}}function f(t,e){if(1&t&&(o.bc(0,"ul",15),o.Oc(1,g,5,4,"li",16),o.ac()),2&t){const t=o.nc();o.Ib(1),o.uc("ngForOf",t.headers)}}function m(t,e){if(1&t){const t=o.cc();o.bc(0,"p",18),o.jc("click",(function(){o.Ic(t);const e=o.nc();return e.downloadRejectRecords(e.fName)})),o.bc(1,"span"),o.bc(2,"a",19),o.Qc(3,"Click Here "),o.ac(),o.ac(),o.Qc(4," to download rejected records.."),o.ac()}}let v=(()=>{class t{constructor(t,e,c,n){this.batchService=t,this.activatedRoute=e,this.location=c,this.userService=n,this.headers=[{label:"Batch Name",key:"batchName",lclass:"key",vclass:"value ml-3"},{label:"File Name",key:"fileName",lclass:"key",vclass:"value ml-3"},{label:"Batch Instance Id",key:"batchInstanceID",lclass:"key",vclass:"value ml-3"},{label:"Status",key:"status",lclass:"key",vclass:"badge badge-warning value ml-3"},{label:"Merchant ID",key:"parentID",lclass:"key",vclass:"value ml-3"},{label:"Uploaded By",key:"uploadedBy",lclass:"key",vclass:"value ml-3"},{label:"Created At",key:"createdAt",lclass:"key",vclass:"value ml-3"},{label:"Last Updated At",key:"lastUpdatedAt",lclass:"key",vclass:"value ml-3"}],this.fName="sample";const a=this.activatedRoute.snapshot.paramMap.get("batchId");this.batchInstanceID=a}ngOnInit(){this.loggedInUser=this.userService.userValue,console.log(this.batchInstanceID),this.batchService.getUploadList({batchInstanceID:this.batchInstanceID}).subscribe(t=>{this.batchDetails=t[0]},t=>{console.log(t)})}back(){this.location.back()}downloadRejectRecords(t){this.batchService.getRejectedRecords({batchInstanceID:this.batchInstanceID}).subscribe(e=>{const c=new File([e],t,{type:"text/csv;charset=utf-8"});"GenerateHdfcInvoiceBatch"==this.batchDetails.batchName||"GenerateInvoice"==this.batchDetails.batchName||"HDFCRefundUploadBatch"==this.batchDetails.batchName?(this.fname=this.batchDetails.parentID+"_"+this.batchDetails.batchName+"_"+this.batchDetails.batchInstanceID,i.saveAs(c,this.fname)):i.saveAs(c,this.batchDetails.fileName)})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(d),o.Vb(a.a),o.Vb(n.j),o.Vb(l.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-batch-details"]],decls:43,vars:5,consts:[[1,"row"],[1,"card","mt-3"],[1,"card-header"],[1,"fa","fa-align-justify","ml-2"],[2,"float","right","margin-top","-20px"],[1,"btn","btn-sm","btn-success",3,"click"],[1,"card-body"],[1,"row","m-3"],[1,"col-md-7"],[1,"card"],["class","col-md-12 pl-3 left","style","list-style:none",4,"ngIf"],[1,"col-md-5"],[1,"col-md-8","pl-3","left",2,"font-weight","500"],[1,"col-md-4"],["style","text-align: center;",3,"click",4,"ngIf"],[1,"col-md-12","pl-3","left",2,"list-style","none"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf"],[2,"text-align","center",3,"click"],[2,"color","blue"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",2),o.bc(3,"h6"),o.Wb(4,"i",3),o.Qc(5," Batch Details "),o.ac(),o.bc(6,"span",4),o.bc(7,"button",5),o.jc("click",(function(){return e.back()})),o.Qc(8,"Go Back"),o.ac(),o.ac(),o.ac(),o.bc(9,"div",6),o.bc(10,"div",7),o.bc(11,"div",8),o.bc(12,"div",9),o.bc(13,"div",2),o.bc(14,"h6"),o.Wb(15,"i",3),o.Qc(16," Batch Details"),o.ac(),o.ac(),o.bc(17,"div",6),o.bc(18,"div",0),o.Oc(19,f,2,1,"ul",10),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(20,"div",11),o.bc(21,"div",9),o.bc(22,"div",2),o.bc(23,"h6"),o.Wb(24,"i",3),o.Qc(25," Batch Report"),o.ac(),o.ac(),o.bc(26,"div",6),o.bc(27,"div",0),o.bc(28,"div",12),o.bc(29,"p"),o.Qc(30,"Process Count :"),o.ac(),o.bc(31,"p"),o.Qc(32,"Reject Count :"),o.ac(),o.bc(33,"p"),o.Qc(34,"Success Count :"),o.ac(),o.ac(),o.bc(35,"div",13),o.bc(36,"p"),o.Qc(37),o.ac(),o.bc(38,"p"),o.Qc(39),o.ac(),o.bc(40,"p"),o.Qc(41),o.ac(),o.ac(),o.ac(),o.ac(),o.Oc(42,m,5,0,"p",14),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Ib(19),o.uc("ngIf",e.batchDetails),o.Ib(18),o.Sc(" ",null==e.batchDetails?null:e.batchDetails.processCount," "),o.Ib(2),o.Sc(" ",null==e.batchDetails?null:e.batchDetails.rejectCount," "),o.Ib(2),o.Sc(" ",null==e.batchDetails?null:e.batchDetails.successCount," "),o.Ib(1),o.uc("ngIf",0!=(null==e.batchDetails?null:e.batchDetails.rejectCount)))},directives:[n.n,n.m],pipes:[n.e],styles:[".card[_ngcontent-%COMP%]{width:90%;background-repeat:no-repeat;background-size:100px;background-position:50%;min-height:130px;margin:auto;box-shadow:5px 10px 15px #d1d1d1;border-radius:5px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#c9d9e7}.key[_ngcontent-%COMP%]{font-weight:500;margin-bottom:20px}.value[_ngcontent-%COMP%]{text-align:right}.badge[_ngcontent-%COMP%]{font-size:13px;color:#fff}"]}),t})();var I=c("mmCC"),y=c("s7LF"),O=c("xkgV");function w(t,e){if(1&t&&(o.bc(0,"option",25),o.Qc(1),o.ac()),2&t){const t=e.$implicit;o.uc("value",t.value),o.Ib(1),o.Sc("",t.value," ")}}function k(t,e){if(1&t&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&t){const t=o.nc().$implicit;o.Ib(1),o.Sc(" ",t.label," \xa0 ")}}function C(t,e){if(1&t&&(o.bc(0,"th"),o.Zb(1,26),o.Oc(2,k,2,1,"span",27),o.Yb(),o.ac()),2&t){const t=e.$implicit;o.Ib(1),o.uc("ngSwitch",t.field)}}function D(t,e){if(1&t&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&t){const t=o.nc().$implicit,e=o.nc().$implicit;o.Ib(1),o.Rc(e[t.field])}}function x(t,e){if(1&t&&(o.bc(0,"span"),o.Qc(1),o.oc(2,"date"),o.ac()),2&t){const t=o.nc(2).$implicit;o.Ib(1),o.Rc(o.qc(2,1,t.createdAt,"dd/MM/yyyy h:mma"))}}function S(t,e){if(1&t&&(o.bc(0,"td"),o.Oc(1,D,2,1,"span",18),o.Oc(2,x,3,4,"span",18),o.ac()),2&t){const t=e.$implicit;o.Ib(1),o.uc("ngIf","createdAt"!=t.field),o.Ib(1),o.uc("ngIf","createdAt"===t.field)}}function M(t,e){if(1&t){const t=o.cc();o.bc(0,"tr",29),o.jc("click",(function(){o.Ic(t);const c=e.$implicit;return o.nc(2).routeToDetails(c)})),o.Oc(1,S,3,2,"td",17),o.ac()}if(2&t){const t=o.nc(2);o.Ib(1),o.uc("ngForOf",t.cols)}}const P=function(t,e){return{itemsPerPage:t,currentPage:e}};function F(t,e){if(1&t&&(o.bc(0,"tbody"),o.Oc(1,M,2,1,"tr",28),o.oc(2,"paginate"),o.ac()),2&t){const t=o.nc();o.Ib(1),o.uc("ngForOf",o.qc(2,1,t.batchList,o.zc(4,P,t.itemsPerPage,t.page)))}}function _(t,e){1&t&&(o.bc(0,"div",30),o.bc(1,"label"),o.Qc(2," Loading . . . "),o.ac(),o.ac())}function Q(t,e){1&t&&(o.bc(0,"div",30),o.bc(1,"label"),o.Qc(2," No Data "),o.ac(),o.ac())}function j(t,e){if(1&t){const t=o.cc();o.bc(0,"div",31),o.jc("click",(function(){o.Ic(t);const c=e.$implicit;return o.nc().itemOnPage(c)})),o.Qc(1),o.ac()}if(2&t){const t=e.$implicit,c=o.nc();o.uc("ngClass",c.itemsPerPage==t?"item-number-active":"item-number"),o.Ib(1),o.Sc(" ",t," ")}}function A(t,e){if(1&t&&(o.bc(0,"span",32),o.Qc(1),o.ac()),2&t){const t=o.nc();o.Ib(1),o.Sc("Total Count-",t.batchList.length,"")}}const L=function(){return{standalone:!0}};let R=(()=>{class t{constructor(t,e,c,n){this.router=t,this.batchService=e,this.userService=c,this.transactionService=n,this.cols=[{label:"Batch Name",field:"batchName",sortOptions:"",sort:"text"},{label:"Batch Instance ID",field:"batchInstanceID",sortOptions:"",sort:"number"},{label:"Status",field:"status",sortOptions:"",sort:"text"},{label:"Uploaded By",field:"uploadedBy",sortOptions:"",sort:"text"},{label:"Created At",field:"createdAt",sortOptions:"",sort:"number"},{label:"File Name",field:"fileName",sortOptions:"",sort:"text"}],this.textSortOptions=[{name:"Sort A to Z",value:"ASC",img:"fa fa-sort-alpha-asc"},{name:"Sort Z to A",value:"DESC",img:"fa fa-sort-alpha-desc"}],this.numberSortOptions=[{name:"Sort 0 to 9",value:"ASC",img:"fa fa-sort-numeric-asc"},{name:"Sort 9 to 0",value:"DESC",img:"fa fa-sort-numeric-desc"}],this.itemsPerPage=10,this.page=0,this.entriesOnPage=[10,15,20,25],this.searchCriteria={},this.loading=!0,this.batchList=[]}ngOnInit(){this.loggedInUser=this.userService.userValue,this.Status="ALL",this.searchList(),this.getDropDownValues()}searchList(){this.searchCriteria.merchantID=this.loggedInUser.merchantId,console.log(this.searchCriteria.status),this.batchService.getUploadList(this.searchCriteria).subscribe(t=>{this.loading=!1,this.batchList=t.message?[]:t},t=>{console.log(t)})}reset(){this.searchCriteria={},this.searchList()}sortingClick(t){this.sortField=this.selectedField,this.customSort({field:this.selectedField,order:"ASC"===t?1:-1,data:this.batchList})}customSort(t){this.sortField.length>0&&(t.data&&t.data.sort((e,c)=>{let n=e[t.field],a=c[t.field],i=null;return i=null==n&&null!=a?-1:null!=n&&null==a?1:null==n&&null==a?0:"string"==typeof n&&"string"==typeof a?n.localeCompare(a):n<a?-1:n>a?1:0,t.order*i}),this.sortField="")}setSortOption(t,e){this.cols.forEach(c=>{t===c.field&&(c.sortOptions=e,this.selectedSortOption=e)})}routeToDetails(t){this.router.navigate(["batch/details/"+t.batchInstanceID])}pageChanged(t){this.page=t}itemOnPage(t){this.page=0,this.itemsPerPage=t}getDropDownValues(){this.transactionService.dropdownList().subscribe(t=>{console.log(t),this.dropDownList=t})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.c),o.Vb(d),o.Vb(l.a),o.Vb(I.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-batch-status"]],decls:43,vars:15,consts:[[1,"row"],[1,"card","mt-3","pb-0"],[1,"card-header"],[1,"fa","fa-info","ml-2","mr-1",2,"font-weight","500"],[1,"card-body",2,"padding","0.7rem"],[1,"col-md-12"],[1,"row","pl-3","pr-5"],[1,"col-md-3"],["type","text","ngDefaultControl","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","pt-4"],[1,"btn","btn-primary","ml-4",3,"click"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"card","table-data"],[1,"card-body","pb-0","show-data"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","col-md-12 pb-2","style","text-align: center;",4,"ngIf"],[1,"card-footer","pt-3","pb-1","pl-3"],[1,"p-2"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"float-right","mr-2",3,"pageChange"],["class","s1","style","text-align: center; color: gray; font-weight: 500;float: right;",4,"ngIf"],[3,"value"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"col-md-12","pb-2",2,"text-align","center"],[3,"ngClass","click"],[1,"s1",2,"text-align","center","color","gray","font-weight","500","float","right"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",2),o.bc(3,"h6"),o.Wb(4,"i",3),o.Qc(5," Batch Status "),o.ac(),o.ac(),o.bc(6,"div",4),o.bc(7,"div",0),o.bc(8,"div",5),o.bc(9,"div",6),o.bc(10,"div",7),o.bc(11,"label"),o.Qc(12,"Batch Name"),o.ac(),o.bc(13,"input",8),o.jc("ngModelChange",(function(t){return e.searchCriteria.batchName=t})),o.ac(),o.ac(),o.bc(14,"div",7),o.bc(15,"label"),o.Qc(16,"Status"),o.ac(),o.bc(17,"select",9),o.jc("ngModelChange",(function(t){return e.searchCriteria.status=t})),o.Oc(18,w,2,2,"option",10),o.oc(19,"keyvalue"),o.ac(),o.ac(),o.bc(20,"div",11),o.bc(21,"button",12),o.jc("click",(function(){return e.searchList()})),o.Qc(22," Search"),o.ac(),o.bc(23,"button",13),o.jc("click",(function(){return e.reset()})),o.Qc(24," Reset "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(25,"div",14),o.bc(26,"div",15),o.bc(27,"table",16),o.bc(28,"thead"),o.bc(29,"tr"),o.Oc(30,C,3,1,"th",17),o.ac(),o.ac(),o.Oc(31,F,3,7,"tbody",18),o.ac(),o.bc(32,"div",0),o.Oc(33,_,3,0,"div",19),o.Oc(34,Q,3,0,"div",19),o.ac(),o.ac(),o.bc(35,"div",20),o.bc(36,"span",21),o.Qc(37," Show "),o.ac(),o.Oc(38,j,2,2,"div",22),o.bc(39,"span",21),o.Qc(40," entries per page "),o.ac(),o.bc(41,"pagination-controls",23),o.jc("pageChange",(function(t){return e.pageChanged(t)})),o.ac(),o.Oc(42,A,2,1,"span",24),o.ac(),o.ac(),o.ac()),2&t&&(o.Ib(13),o.uc("ngModelOptions",o.xc(13,L))("ngModel",e.searchCriteria.batchName),o.Ib(4),o.uc("ngModelOptions",o.xc(14,L))("ngModel",e.searchCriteria.status),o.Ib(1),o.uc("ngForOf",o.pc(19,11,null==e.dropDownList?null:e.dropDownList.batchStatus)),o.Ib(12),o.uc("ngForOf",e.cols),o.Ib(1),o.uc("ngIf",!e.loading&&e.batchList.length>0),o.Ib(2),o.uc("ngIf",e.loading),o.Ib(1),o.uc("ngIf",!e.loading&&0===e.batchList.length),o.Ib(4),o.uc("ngForOf",e.entriesOnPage),o.Ib(4),o.uc("ngIf",!e.loading))},directives:[y.b,y.n,y.q,y.x,n.m,n.n,O.c,y.r,y.z,n.p,n.r,n.l],pipes:[n.h,O.b,n.e],styles:[".card[_ngcontent-%COMP%]{width:100%!important}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:0}label[_ngcontent-%COMP%]{font-weight:500}th[_ngcontent-%COMP%]{border-top:none}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}.dropdown-menu[_ngcontent-%COMP%]{min-width:0;margin-left:-60px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{border:none;cursor:pointer;padding:7px 17px!important}.table-data[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:100px;background-position:50%;min-height:130px;margin:auto;box-shadow:5px 10px 15px #d1d1d1;border-radius:5px}"]}),t})();var U=c("OC8m");let V=(()=>{class t{constructor(){this.fileDropped=new o.q}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!0}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1}ondrop(t){t.preventDefault(),t.stopPropagation(),this.fileOver=!1;let e=t.dataTransfer.files;e.length>0&&this.fileDropped.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Qb({type:t,selectors:[["","appDragToUploadFile",""]],hostVars:2,hostBindings:function(t,e){1&t&&o.jc("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.ondrop(t)})),2&t&&o.Mb("fileover",e.fileOver)},outputs:{fileDropped:"fileDropped"}}),t})();function B(t,e){1&t&&(o.bc(0,"div",21),o.mc(),o.bc(1,"svg",22),o.bc(2,"style"),o.Qc(3," .line { fill: none; stroke: #aaa; stroke-width: 8; stroke-dasharray: 40 } .animated { animation: draw .8s ease-in-out; animation-iteration-count: infinite; stroke-dashoffset: 0 } .line2 { animation-delay: .08s } .line3 { animation-delay: .16s } @keyframes draw { 0% { stroke-dashoffset: 0 } 50% { stroke-dashoffset: 30 } 100% { stroke-dashoffset: 0 } } "),o.ac(),o.Wb(4,"path",23),o.Wb(5,"path",24),o.Wb(6,"path",25),o.ac(),o.ac())}const N=[{path:"",data:{title:"batch"},children:[{path:"upload",component:(()=>{class t{constructor(t,e,c,n){this.batchService=t,this.router=e,this.notificationService=c,this.userService=n,this.processing=!1}ngOnInit(){this.loggedInUser=this.userService.userValue,console.log(this.loggedInUser)}fileDropped(t){console.log(t)}uploadFile(t){if(this.isValidCSVFile(t.target.files[0])){this.fileName=t?t.target.files[0].name:"";const e=this.fileName.split("-");this.headertext=`GENERATEINVOICE File for Merchant ID : ${e[0]} `,this.selectedFile=t.target.files[0]}}onDrop(t){if(this.isValidCSVFile(t[0])){this.fileName=t?t[0].name:"";const e=this.fileName.split("-");this.headertext=`GENERATEINVOICE File for Merchant ID : ${e[0]} `,this.selectedFile=t[0]}}uploadbatch(){const t={merchantID:this.loggedInUser.merchantId,merchantType:this.loggedInUser.merchantType,uploadedBy:this.loggedInUser.merchantName};null==this.selectedFile&&(this.selectedFile=null),this.processing=!0,this.batchService.batchUpload(this.selectedFile,t).subscribe(t=>{this.processing=!1,"Error"!==t.status?(this.notificationService.showSuccess("File uploaded successfully",""),this.fileName=""):this.notificationService.showError(t.message,"")},t=>{this.processing=!1,this.notificationService.showError(t.error.message,"")})}isValidCSVFile(t){return t.name.endsWith(".csv")}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(d),o.Vb(a.c),o.Vb(U.a),o.Vb(l.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-batch-upload"]],decls:30,vars:4,consts:[[1,"row"],[1,"card","mt-3"],[1,"card-header"],[1,"fa","fa-upload","ml-2","mr-1",2,"font-weight","700"],[1,"card-body"],[1,"mer-id"],[1,"form-group","row"],["appDragToUploadFile","",1,"drag-drop-file-here",3,"fileDropped"],[1,"title-click-here"],[1,"or","p-2"],[1,"row","form-group","p-2"],[1,"col-md-1"],[1,"col-md-8","pt-2","file-inp",3,"click"],[1,"pl-3"],["id","inputFile","hidden","","type","file","accept",".csv",3,"change"],["upload",""],[1,"col-md-3"],["type","button",1,"browse","btn","btn-secondary",3,"click"],[1,"row","p-2"],["type","button",1,"btn","btn-primary","text-center",3,"disabled","click"],["class","upload-process",4,"ngIf"],[1,"upload-process"],["xmlns","http://www.w3.org/2000/svg","width","100","height","60"],["d","M14 10V50z",1,"line","animated"],["d","M30 10V50z",1,"line","animated","line2"],["d","M46 10V50z",1,"line","animated","line3"]],template:function(t,e){if(1&t){const t=o.cc();o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",2),o.bc(3,"h6"),o.Wb(4,"i",3),o.Qc(5," Batch Upload "),o.ac(),o.ac(),o.bc(6,"div",4),o.bc(7,"h4",5),o.Qc(8),o.ac(),o.bc(9,"div",6),o.bc(10,"div",7),o.jc("fileDropped",(function(t){return e.onDrop(t)})),o.bc(11,"p",8),o.Qc(12,"Drag & Drop File "),o.ac(),o.bc(13,"p",9),o.Qc(14,"Or"),o.ac(),o.bc(15,"div",10),o.Wb(16,"div",11),o.bc(17,"div",12),o.jc("click",(function(){return o.Ic(t),o.Fc(21).click()})),o.bc(18,"span",13),o.Qc(19),o.ac(),o.bc(20,"input",14,15),o.jc("change",(function(t){return e.uploadFile(t)})),o.ac(),o.ac(),o.bc(22,"div",16),o.bc(23,"button",17),o.jc("click",(function(){return o.Ic(t),o.Fc(21).click()})),o.Qc(24," Browse"),o.ac(),o.ac(),o.ac(),o.bc(25,"div",18),o.bc(26,"button",19),o.jc("click",(function(){return e.uploadbatch()})),o.Qc(27," Upload"),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(28,"div",6),o.Oc(29,B,7,0,"div",20),o.ac(),o.ac(),o.ac(),o.ac()}2&t&&(o.Ib(8),o.Rc(e.headertext),o.Ib(11),o.Rc(e.fileName),o.Ib(7),o.uc("disabled",e.processing),o.Ib(3),o.uc("ngIf",e.processing))},directives:[V,n.n],styles:[".card[_ngcontent-%COMP%]{width:80%;margin:auto}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#c9d9e7}.drag-drop-file-here[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:100px;background-position:50%;min-height:130px;padding-top:10px;box-shadow:5px 10px 15px #d1d1d1;background-color:#ebeef0!important;border-radius:5px}.drag-drop-file-here[_ngcontent-%COMP%], .upload-process[_ngcontent-%COMP%]{width:60%;margin:auto}.drag-drop-file-here[_ngcontent-%COMP%]:hover{background-color:#ebeef0!important;opacity:.8}.drag-drop-file-here__text[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50%;margin-top:20px}.fa--margin-color[_ngcontent-%COMP%]{color:#00b0f0;margin:50px 47% auto}.title-click-here[_ngcontent-%COMP%]{font-weight:700;padding-top:5px}.or[_ngcontent-%COMP%], .title-click-here[_ngcontent-%COMP%]{text-align:center;margin-bottom:5px!important}.upload-btn-wrapper[_ngcontent-%COMP%]{text-align:center}.input-group[_ngcontent-%COMP%]{background-color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]{background-color:#5c4084;border-color:#5c4084;outline:none;color:#fff}.btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#442f62;border-color:#442f62}.btn.btn-secondary[_ngcontent-%COMP%]:active, .btn.btn-secondary[_ngcontent-%COMP%]:focus{background-color:#684895;border-color:#684895}.file-inp[_ngcontent-%COMP%]{background-color:#fff!important;margin-right:-14px}.mer-id[_ngcontent-%COMP%]{color:green;text-align:center}.text-center[_ngcontent-%COMP%]{margin:auto}"]}),t})(),data:{title:"Upload"}},{path:"status",component:R,data:{title:"Status"}},{path:"details/:batchId",component:v,data:{title:"Details"}}]}];let E=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[a.g.forChild(N)],a.g]}),t})();var T=c("FE24"),$=c("kFe1"),W=c("LqlI");let q=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},providers:[W.b],imports:[[n.c,E,O.a,T.c,y.i,$.b.forRoot(),W.d.forRoot()]]}),t})()},Iab2:function(t,e,c){var n,a;void 0===(a="function"==typeof(n=function(){"use strict";function e(t,e,c){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){o(n.response,e,c)},n.onerror=function(){console.error("could not download file")},n.send()}function c(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(c)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(t,i,o){var r=a.URL||a.webkitURL,s=document.createElement("a");s.download=i=i||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?n(s):c(s.href)?e(t,i,o):n(s,s.target="_blank")):(s.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(s.href)}),4e4),setTimeout((function(){n(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,i),a);else if(c(t))e(t,a,i);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){n(o)}))}}:function(t,c,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,c,n);var r="application/octet-stream"===t.type,s=/constructor/i.test(a.HTMLElement)||a.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&s||i)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},d.readAsDataURL(t)}else{var b=a.URL||a.webkitURL,p=b.createObjectURL(t);o?o.location=p:location.href=p,o=null,setTimeout((function(){b.revokeObjectURL(p)}),4e4)}});a.saveAs=o.saveAs=o,t.exports=o})?n.apply(e,[]):n)||(t.exports=a)}}]);