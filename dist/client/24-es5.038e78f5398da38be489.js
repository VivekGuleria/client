function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var c=0;c<t.length;c++){var a=t[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,c){return t&&_defineProperties(e.prototype,t),c&&_defineProperties(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{qUkX:function(e,t,c){"use strict";c.r(t),c.d(t,"ReportsModule",(function(){return ia}));var a=c("SVse"),n=c("iInd"),i=c("wd/R"),r=c("orU0"),o=c("8Y7J"),s=c("id1S"),l=c("qfBg"),d=c("bpDJ"),u=c("OC8m"),h=c("7g+E"),b=c("kFe1"),m=c("s7LF"),f=c("xkgV"),p=c("q17e");function g(e,t){if(1&e&&(o.bc(0,"option",47),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c.id),o.Ib(1),o.Tc("",c.id," ",c.name," ")}}var v=function(){return{standalone:!0}};function I(e,t){if(1&e){var c=o.cc();o.bc(0,"div",44),o.bc(1,"label"),o.Qc(2,"Merchant ID"),o.ac(),o.bc(3,"select",45),o.jc("ngModelChange",(function(e){return o.Ic(c),o.nc().merchantId=e}))("change",(function(){return o.Ic(c),o.nc().selectMer()})),o.Oc(4,g,2,3,"option",46),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.uc("ngModelOptions",o.xc(3,v))("ngModel",a.merchantId),o.Ib(1),o.uc("ngForOf",a.merchData)}}function y(e,t){if(1&e&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit;o.Ib(1),o.Sc(" ",c.label," \xa0 ")}}function D(e,t){if(1&e&&(o.bc(0,"th"),o.Zb(1,48),o.Oc(2,y,2,1,"span",49),o.Yb(),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.uc("ngSwitch",c.field)}}function O(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(a[c.field])}}function C(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function M(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function S(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}var A=function(){return{"background-color":"yellow"}};function w(e,t){if(1&e&&(o.bc(0,"td",52),o.Oc(1,O,2,1,"div",21),o.Oc(2,C,3,4,"div",21),o.Oc(3,M,3,4,"div",21),o.Oc(4,S,3,4,"div",21),o.ac()),2&e){var c=t.$implicit,a=o.nc().$implicit,n=o.nc(2);o.uc("ngStyle",n.duplicateID==a.id&&o.xc(5,A)),o.Ib(1),o.uc("ngIf","fromDate"!=c.field&&"toDate"!=c.field&&"createdAt"!=c.field),o.Ib(1),o.uc("ngIf","fromDate"==c.field),o.Ib(1),o.uc("ngIf","toDate"==c.field),o.Ib(1),o.uc("ngIf","createdAt"==c.field)}}function R(e,t){1&e&&(o.bc(0,"button",55),o.Qc(1," FAILED "),o.ac())}var T=function(e){return[e]};function k(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,R,2,0,"button",54),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,T,c.roleAccess.viewReportsSettlementDownload))}}function P(e,t){if(1&e){var c=o.cc();o.bc(0,"button",57),o.jc("click",(function(){o.Ic(c);var e=o.nc(2).$implicit;return o.nc(2).downloadreport(e,e.id)})),o.Qc(1," Download "),o.ac()}}function L(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,P,2,0,"button",56),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,T,c.roleAccess.viewReportsSettlementDownload))}}function x(e,t){1&e&&(o.bc(0,"button",59),o.Qc(1," PROCESSING.. "),o.ac())}function F(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,x,2,0,"button",58),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,T,c.roleAccess.viewReportsSettlementDownload))}}function Q(e,t){if(1&e&&(o.bc(0,"tr"),o.Oc(1,w,5,6,"td",50),o.bc(2,"td"),o.Oc(3,k,2,3,"div",51),o.Oc(4,L,2,3,"div",51),o.Oc(5,F,2,3,"div",51),o.ac(),o.ac()),2&e){var c=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngForOf",a.cols),o.Ib(2),o.uc("ngIf","FAILED"==c.status),o.Ib(1),o.uc("ngIf","COMPLETED"==c.status),o.Ib(1),o.uc("ngIf","IN_PROGRESS"==c.status)}}var V=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}};function G(e,t){if(1&e&&(o.bc(0,"tbody"),o.Oc(1,Q,6,4,"tr",20),o.oc(2,"paginate"),o.ac()),2&e){var c=o.nc();o.Ib(1),o.uc("ngForOf",o.qc(2,1,c.showReportsData,o.Ac(4,V,c.itemsPerPage,c.page,c.showReportsData.length)))}}function E(e,t){if(1&e){var c=o.cc();o.bc(0,"div",60),o.jc("click",(function(){o.Ic(c);var e=t.$implicit;return o.nc().itemOnPage(e)})),o.Qc(1),o.ac()}if(2&e){var a=t.$implicit,n=o.nc();o.uc("ngClass",n.itemsPerPage==a?"item-number-active":"item-number"),o.Ib(1),o.Sc(" ",a," ")}}function $(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}function j(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}var U,_=function(){return{days:180}},N=function(){return{format:"DD/MM/YYYY"}},B=((U=function(){function e(t,c,a,n,o){_classCallCheck(this,e),this.transactionService=t,this.userservice=c,this.excelService=a,this.notificationService=n,this.spinner=o,this.reportStatus=!1,this.moreFilters={},this.filteredData=[],this.roleAccess=r.a,this.cols=[{label:"From Date",field:"fromDate",sortOptions:"",sort:"number"},{label:"To Date",field:"toDate",sortOptions:"",sort:"number"},{label:"Created At",field:"createdAt",sortOptions:"",sort:"number"},{label:"Created By",field:"createdBy",sortOptions:"",sort:"text"}],this.selected={startDate:i().subtract(7,"days"),endDate:i()},this.recordPerPage=100,this.offset=0,this.dummyData=[{merchantID:"120352",reportType:"Transaction",fromDate:"11/26/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"12/22/2021",toDate:"02/27/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2022",toDate:"01/30/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/01/2022",toDate:"02/01/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"19/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/12/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"10/02/2022",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/12/2021",toDate:"12/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/02/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"}],this.itemsPerPage=5,this.page=1,this.entriesOnPage=[5,10,15,20],this.dummyValues=[{label:"All",value:"0"},{label:"One",value:"1"},{label:"Two",value:"2"},{label:"Three",value:"3"}],this.textSortOptions=[{name:"Sort A to Z",value:"ASC",img:"a-z"},{name:"Sort Z to A",value:"DESC",img:"z-a"}],this.numberSortOptions=[{name:"Sort 0 to 9",value:"ASC",img:"a-z"},{name:"Sort 9 to 0",value:"DESC",img:"z-a"}],this.searchCriteria={},this.transactionStatus=[{label:"Success",value:"Success"},{label:"Reject",value:"Reject"},{label:"Request",value:"Request"}],this.ranges={Today:[i(),i()],"Last 7 Days":[i().subtract(6,"days"),i()],"Last 30 Days":[i().subtract(29,"days"),i()],"Last 3 Month":[i().subtract(3,"month").startOf("month"),i().subtract(1,"month").endOf("month")]},this.datas=[]}return _createClass(e,[{key:"showReports",value:function(){var e=this;this.filteredData=[];var t=i(this.selectedDateRange.startDate).unix(),c=i(this.selectedDateRange.endDate).unix(),a=Object.assign({fromDate:t,toDate:c,reportType:"SETTLEMENT",merchantID:this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,merchantType:this.userservice.userValue.merchantType},"AGG"==this.userservice.userValue.merchantType?{aggregatorID:this.userservice.userValue.merchantId}:null);console.log(a),this.transactionService.generateReportsTransaction(a).subscribe((function(t){t.duplicateId==t.id&&null!=t.remarks?(e.duplicateID=t.id,e.notificationService.showInfo("Report for specified date range is already generated.",""),e.findReportPage(t)):e.getAllReports()})),setTimeout((function(){e.getAllReports()}),2e3)}},{key:"ngOnInit",value:function(){this.loggedInUser=this.userservice.userValue,this.merchantName=this.userservice.userValue.merchantName,"AGG"===this.userservice.userValue.merchantType&&(this.merchantId="ALL"),this.merchantIds=["ALL"].concat(this.loggedInUser.merchantIds),this.showReportsData=[],this.merchantID=this.userservice.userValue.merchantId,this.merchData=this.userservice.userValue.merchants,this.pushAll(),this.getAllReports(),this.selectedDateRange=this.selected}},{key:"pushAll",value:function(){"ALL"!=this.merchData[0].id&&this.merchData.unshift({id:"ALL",name:""})}},{key:"getAllReports",value:function(){var e=this,t=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,c="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null,a={reportType:"SETTLEMENT",merchantID:t,merchantType:this.userservice.userValue.merchantType};console.log(a),this.transactionService.getReportsTransaction(a.reportType,t,this.recordPerPage,this.offset,c).subscribe((function(t){e.showReportsData=t,console.log(t)}))}},{key:"pad2",value:function(e){return e<10?"0"+e:e}},{key:"downloadreport",value:function(e,t){var c=this;if(null==e.count)return this.notificationService.showInfo("Data is not available","");this.datas=[];var a=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,n="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null;this.spinner.show(),this.transactionService.downloadReport(t,a,n).subscribe((function(t){c.datas.push(t),console.log(t);var a=new Date;a.getFullYear().toString(),c.pad2(a.getMonth()+1),c.pad2(a.getDate()),c.pad2(a.getHours()),c.pad2(a.getMinutes()),c.pad2(a.getSeconds()),c.excelService.downloadFile(c.datas,e.fileName),c.spinner.hide()}),(function(e){c.spinner.hide(),400==e.status&&c.notificationService.showError("Report not found !","")}))}},{key:"searchTransanction",value:function(){var e={};console.log("+++++++++date range ++++++++",this.selectedDateRange),Object.assign(e,this.searchCriteria,this.moreFilters,this.selectedDateRange),console.log(e)}},{key:"reset",value:function(){this.searchCriteria={},this.selectedDateRange=null,this.moreFilters={}}},{key:"pageChanged",value:function(e){this.page=e}},{key:"itemOnPage",value:function(e){this.page=0,this.itemsPerPage=e}},{key:"addMoreFilters",value:function(){this.searchTransanction()}},{key:"close",value:function(){this.moreFilters={}}},{key:"sortingClick",value:function(e){this.sortField=this.selectedField,this.customSort({field:this.selectedField,order:"ASC"===e?1:-1,data:this.dummyData})}},{key:"customSort",value:function(e){this.sortField.length>0&&(e.data&&e.data.sort((function(t,c){var a,n=t[e.field],i=c[e.field];return a=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,e.order*a})),this.sortField="")}},{key:"setSortOption",value:function(e,t){var c=this;this.cols.forEach((function(a){e===a.field&&(a.sortOptions=t,c.selectedSortOption=t)}))}},{key:"getMerchantList",value:function(){var e=this;this.transactionService.merchantList({merchantid:this.loggedInUser.merchantId}).subscribe((function(t){e.merchantList=t}),(function(e){console.log(e)}))}},{key:"selectMer",value:function(){this.getAllReports()}},{key:"findReportPage",value:function(e){var t=this.showReportsData.map((function(e){return e.id})).indexOf(e.id),c=parseInt(String(t/this.itemsPerPage));this.pageChanged(c+1)}}]),e}()).\u0275fac=function(e){return new(e||U)(o.Vb(s.a),o.Vb(l.a),o.Vb(d.a),o.Vb(u.a),o.Vb(h.c))},U.\u0275cmp=o.Pb({type:U,selectors:[["app-settlements"]],decls:79,vars:36,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"container-fluid","p-0",2,"min-height","80vh"],[1,"row"],[1,"card","mt-3"],[1,"card-body",2,"padding-top","0","padding-left","15px","padding-right","15px"],[1,"row","mb-2"],[1,"col-md-12","card-header",2,"font-weight","700"],[1,"fa","fa-list-alt","ml-2",2,"font-weight","500"],[1,"col-md-12"],[1,"row","pl-3","pr-5"],[1,"col-md-5"],["id","calendar-input","type","text","ngxDaterangepickerMd","",1,"form-control",3,"dateLimit","ngModel","locale","autoApply","showCustomRangeLabel","alwaysShowCalendars","ranges","linkedCalendars","keepCalendarOpeningWithRange","timePicker","timePicker24Hour","showClearButton","ngModelChange"],["id","icon","for","calendar-input",1,"date-range-picker-icon","fa","fa-calendar"],["class","col-md-2 ",4,"ngIf"],[1,"col-md-2","mt-2"],[1,"btn","btn-sm","btn-primary","mt-4",3,"click"],[1,"card"],[1,"card-body","pb-0","show-data"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-footer"],[1,"row","col-md-12",2,"float","left"],[1,"col-md-4","d-inline-flex"],[1,"p-2"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"float-right",3,"pageChange"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","pl-2","pr-2"],[1,"col-md-6","pl-2","pr-2","pt-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","ngDefaultControl","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[1,"p-3","pr-4",2,"text-align","right"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","ml-1",3,"click"],[1,"col-md-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"ngStyle",4,"ngFor","ngForOf"],["class","col-md-1",4,"ngIf"],[3,"ngStyle"],[1,"col-md-1"],["class","btn btn-sm btn-danger mt-1",4,"appUserAccess"],[1,"btn","btn-sm","btn-danger","mt-1"],["class","btn btn-sm btn-primary mt-1",3,"click",4,"appUserAccess"],[1,"btn","btn-sm","btn-primary","mt-1",3,"click"],["class","btn btn-sm btn-info mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-info","mt-4"],[3,"ngClass","click"]],template:function(e,t){1&e&&(o.bc(0,"ngx-spinner",0),o.bc(1,"p",1),o.Qc(2,"Downloading..."),o.ac(),o.ac(),o.bc(3,"div",2),o.bc(4,"div",3),o.bc(5,"div",4),o.bc(6,"div",5),o.bc(7,"div",6),o.bc(8,"div",7),o.Wb(9,"i",8),o.Qc(10,"Settlement "),o.ac(),o.ac(),o.bc(11,"div",3),o.bc(12,"div",9),o.bc(13,"div",10),o.bc(14,"div",11),o.bc(15,"label"),o.Qc(16,"Duration"),o.ac(),o.bc(17,"input",12),o.jc("ngModelChange",(function(e){return t.selectedDateRange=e})),o.ac(),o.Wb(18,"label",13),o.ac(),o.Oc(19,I,5,4,"div",14),o.bc(20,"div",15),o.bc(21,"button",16),o.jc("click",(function(){return t.showReports()})),o.Qc(22," Generate Report "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(23,"div",17),o.bc(24,"div",18),o.bc(25,"table",19),o.bc(26,"thead"),o.bc(27,"tr"),o.Oc(28,D,3,1,"th",20),o.ac(),o.ac(),o.Oc(29,G,3,8,"tbody",21),o.ac(),o.ac(),o.bc(30,"div",22),o.bc(31,"div",23),o.bc(32,"div",24),o.bc(33,"span",25),o.Qc(34," Show "),o.ac(),o.Oc(35,E,2,2,"div",26),o.bc(36,"span",25),o.Qc(37," entries per page "),o.ac(),o.ac(),o.Wb(38,"div",27),o.bc(39,"div",27),o.bc(40,"pagination-controls",28),o.jc("pageChange",(function(e){return t.pageChanged(e)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(41,"div",29),o.bc(42,"div",30),o.bc(43,"div",31),o.bc(44,"div",32),o.bc(45,"h5",33),o.Qc(46,"More Filters"),o.ac(),o.bc(47,"button",34),o.jc("click",(function(){return t.close()})),o.bc(48,"span",35),o.Qc(49,"\xd7"),o.ac(),o.ac(),o.ac(),o.bc(50,"div",36),o.bc(51,"div",37),o.bc(52,"div",38),o.bc(53,"label"),o.Qc(54," Recon Status "),o.ac(),o.bc(55,"select",39),o.jc("ngModelChange",(function(e){return t.moreFilters.recon=e})),o.Oc(56,$,2,1,"option",20),o.ac(),o.ac(),o.bc(57,"div",38),o.bc(58,"label"),o.Qc(59," Transaction channel "),o.ac(),o.bc(60,"select",39),o.jc("ngModelChange",(function(e){return t.moreFilters.txn=e})),o.Oc(61,j,2,1,"option",20),o.ac(),o.ac(),o.bc(62,"div",38),o.bc(63,"label"),o.Qc(64,"AddlParam1"),o.ac(),o.bc(65,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama1=e})),o.ac(),o.ac(),o.bc(66,"div",38),o.bc(67,"label"),o.Qc(68,"AddlParam2"),o.ac(),o.bc(69,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama2=e})),o.ac(),o.ac(),o.bc(70,"div",38),o.bc(71,"label"),o.Qc(72,"Merchant reference ID"),o.ac(),o.bc(73,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.refId=e})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(74,"div",41),o.bc(75,"button",42),o.jc("click",(function(){return t.addMoreFilters()})),o.Qc(76,"Apply"),o.ac(),o.bc(77,"button",43),o.jc("click",(function(){return t.close()})),o.Qc(78,"Reset"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.uc("fullScreen",!0),o.Ib(17),o.uc("dateLimit",o.xc(29,_))("ngModel",t.selectedDateRange)("locale",o.xc(30,N))("autoApply",!1)("showCustomRangeLabel",!1)("alwaysShowCalendars",!0)("ranges",t.ranges)("linkedCalendars",!0)("keepCalendarOpeningWithRange",!0)("timePicker",!1)("timePicker24Hour",!0)("showClearButton",!1),o.Ib(2),o.uc("ngIf","AGG"===t.loggedInUser.merchantType),o.Ib(9),o.uc("ngForOf",t.cols),o.Ib(1),o.uc("ngIf",0==t.filteredData.length),o.Ib(6),o.uc("ngForOf",t.entriesOnPage),o.Ib(20),o.uc("ngModelOptions",o.xc(31,v))("ngModel",t.moreFilters.recon),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(32,v))("ngModel",t.moreFilters.txn),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(33,v))("ngModel",t.moreFilters.addParama1),o.Ib(4),o.uc("ngModelOptions",o.xc(34,v))("ngModel",t.moreFilters.addParama2),o.Ib(4),o.uc("ngModelOptions",o.xc(35,v))("ngModel",t.moreFilters.refId))},directives:[h.a,b.a,m.b,m.n,m.q,a.n,a.m,f.c,m.x,m.r,m.z,a.p,a.r,a.o,p.a,a.l],pipes:[f.b,a.e],styles:[".card[_ngcontent-%COMP%]{width:100%!important}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}th[_ngcontent-%COMP%]{border-top:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:0}.show-data[_ngcontent-%COMP%]{overflow-x:scroll}  .md-drppicker{width:600px!important}label[_ngcontent-%COMP%]{font-weight:500}#icon[_ngcontent-%COMP%]{float:right;margin-top:-24px;font-size:17px;padding-right:8px}"]}),U);function q(e,t){if(1&e&&(o.bc(0,"option",47),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c),o.Ib(1),o.Rc(c)}}function H(e,t){if(1&e&&(o.bc(0,"option",47),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c.id),o.Ib(1),o.Tc("",c.id," ",c.name," ")}}var z=function(){return{standalone:!0}};function W(e,t){if(1&e){var c=o.cc();o.bc(0,"div",14),o.bc(1,"label"),o.Qc(2,"Merchant ID"),o.ac(),o.bc(3,"select",48),o.jc("ngModelChange",(function(e){return o.Ic(c),o.nc().merchantId=e}))("change",(function(){return o.Ic(c),o.nc().selectMer()})),o.Oc(4,H,2,3,"option",16),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.uc("ngModelOptions",o.xc(3,z))("ngModel",a.merchantId),o.Ib(1),o.uc("ngForOf",a.merchData)}}function Y(e,t){if(1&e&&(o.bc(0,"option",47),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c),o.Ib(1),o.Sc("",c," ")}}function Z(e,t){if(1&e&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit;o.Ib(1),o.Sc(" ",c.label," \xa0 ")}}function J(e,t){if(1&e&&(o.bc(0,"th"),o.Zb(1,49),o.Oc(2,Z,2,1,"span",50),o.Yb(),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.uc("ngSwitch",c.field)}}function X(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(a[c.field])}}function K(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy h:mma"))}}function ee(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy h:mma"))}}function te(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy h:mma"))}}var ce=function(){return{"background-color":"yellow"}},ae=function(){return{"background-color":"rgba(147, 231, 240, 0.8)"}};function ne(e,t){if(1&e&&(o.bc(0,"td",53),o.Oc(1,X,2,1,"div",25),o.Oc(2,K,3,4,"div",25),o.Oc(3,ee,3,4,"div",25),o.Oc(4,te,3,4,"div",25),o.ac()),2&e){var c=t.$implicit,a=o.nc().$implicit,n=o.nc(2);o.uc("ngStyle",n.duplicateID==a.id?o.xc(5,ce):a.id==n.status&&o.xc(6,ae)),o.Ib(1),o.uc("ngIf","fromDate"!=c.field&&"toDate"!=c.field&&"createdAt"!=c.field&&"status"!=c.field),o.Ib(1),o.uc("ngIf","fromDate"==c.field),o.Ib(1),o.uc("ngIf","toDate"==c.field),o.Ib(1),o.uc("ngIf","createdAt"==c.field)}}function ie(e,t){1&e&&(o.bc(0,"button",56),o.Qc(1," FAILED "),o.ac())}function re(e,t){1&e&&(o.bc(0,"button",56),o.Qc(1," FAILED "),o.ac())}var oe=function(e){return[e]};function se(e,t){if(1&e&&(o.bc(0,"div",54),o.Oc(1,ie,2,0,"button",55),o.Oc(2,re,2,0,"button",55),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(2,oe,c.roleAccess.viewReportsTransactionDownload)),o.Ib(1),o.uc("appUserAccess",o.yc(4,oe,c.roleAccess.viewSpTransactionReportsDownload))}}function le(e,t){if(1&e){var c=o.cc();o.bc(0,"button",58),o.jc("click",(function(){o.Ic(c);var e=o.nc(2).$implicit;return o.nc(2).downloadreport(e,e.id)})),o.Qc(1," Download "),o.ac()}}function de(e,t){if(1&e){var c=o.cc();o.bc(0,"button",58),o.jc("click",(function(){o.Ic(c);var e=o.nc(2).$implicit;return o.nc(2).downloadreport(e,e.id)})),o.Qc(1," Download "),o.ac()}}function ue(e,t){if(1&e&&(o.bc(0,"div",54),o.Oc(1,le,2,0,"button",57),o.Oc(2,de,2,0,"button",57),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(2,oe,c.roleAccess.viewReportsTransactionDownload)),o.Ib(1),o.uc("appUserAccess",o.yc(4,oe,c.roleAccess.viewSpTransactionReportsDownload))}}function he(e,t){1&e&&(o.bc(0,"button",60),o.Qc(1," PROCESSING.. "),o.ac())}function be(e,t){1&e&&(o.bc(0,"button",60),o.Qc(1," PROCESSING.. "),o.ac())}function me(e,t){if(1&e&&(o.bc(0,"div",54),o.Oc(1,he,2,0,"button",59),o.Oc(2,be,2,0,"button",59),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(2,oe,c.roleAccess.viewReportsTransactionDownload)),o.Ib(1),o.uc("appUserAccess",o.yc(4,oe,c.roleAccess.viewSpTransactionReportsDownload))}}function fe(e,t){if(1&e&&(o.bc(0,"tr"),o.Oc(1,ne,5,7,"td",51),o.bc(2,"td"),o.Oc(3,se,3,6,"div",52),o.Oc(4,ue,3,6,"div",52),o.Oc(5,me,3,6,"div",52),o.ac(),o.ac()),2&e){var c=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngForOf",a.cols),o.Ib(2),o.uc("ngIf","FAILED"==c.status),o.Ib(1),o.uc("ngIf","COMPLETED"==c.status),o.Ib(1),o.uc("ngIf","IN_PROGRESS"==c.status)}}var pe=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}};function ge(e,t){if(1&e&&(o.bc(0,"tbody"),o.Oc(1,fe,6,4,"tr",24),o.oc(2,"paginate"),o.ac()),2&e){var c=o.nc();o.Ib(1),o.uc("ngForOf",o.qc(2,1,c.showReportsData,o.Ac(4,pe,c.itemsPerPage,c.page,c.showReportsData.length)))}}function ve(e,t){if(1&e){var c=o.cc();o.bc(0,"div",61),o.jc("click",(function(){o.Ic(c);var e=t.$implicit;return o.nc().itemOnPage(e)})),o.Qc(1),o.ac()}if(2&e){var a=t.$implicit,n=o.nc();o.uc("ngClass",n.itemsPerPage==a?"item-number-active":"item-number"),o.Ib(1),o.Sc(" ",a," ")}}function Ie(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}function ye(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}var De,Oe=function(){return{days:180}},Ce=function(){return{format:"DD/MM/YYYY"}},Me=((De=function(){function e(t,c,a,n,o){_classCallCheck(this,e),this.transactionService=t,this.userservice=c,this.excelService=a,this.notificationService=n,this.spinner=o,this.reportStatus=!1,this.recordPerPage=100,this.offset=0,this.moreFilters={},this.filteredData=[],this.datas=[],this.roleAccess=r.a,this.statuss=["SUC","ALL","REQ","REJ"],this.defaultStatus="SUC",this.selected={startDate:i("00:00","HH:mm").subtract(7,"days"),endDate:i("23:59","HH:mm")},this.doHighlight=!1,this.isDisabeDropdown=!0,this.showTimepicker=!0,this.cutOverValues=["Business Date","Calendar Date"],this.cols=[{label:"From Date",field:"fromDate",sortOptions:"",sort:"number"},{label:"To Date",field:"toDate",sortOptions:"",sort:"number"},{label:"Created At",field:"createdAt",sortOptions:"",sort:"number"},{label:"Created By",field:"createdBy",sortOptions:"",sort:"text"}],this.dummyData=[],this.itemsPerPage=5,this.page=1,this.entriesOnPage=[5,10,15,20],this.dummyValues=[{label:"All",value:"0"},{label:"One",value:"1"},{label:"Two",value:"2"},{label:"Three",value:"3"}],this.textSortOptions=[{name:"Sort A to Z",value:"ASC",img:"a-z"},{name:"Sort Z to A",value:"DESC",img:"z-a"}],this.numberSortOptions=[{name:"Sort 0 to 9",value:"ASC",img:"a-z"},{name:"Sort 9 to 0",value:"DESC",img:"z-a"}],this.searchCriteria={},this.transactionStatus=[{label:"Success",value:"Success"},{label:"Reject",value:"Reject"},{label:"Request",value:"Request"}],this.ranges={Today:[i().set("hours",0).set("minutes",0),i().set("hours",23).set("minutes",59)],"Last 7 Days":[i().subtract(6,"days"),i()],"Last 30 Days":[i().subtract(29,"days"),i()],"Last 3 Month":[i().subtract(3,"month").startOf("month"),i().subtract(1,"month").endOf("month")]}}return _createClass(e,[{key:"showReports",value:function(){var e=this;this.status="",this.duplicateID="",this.filteredData=[];var t=i(this.selectedDateRange.startDate).unix(),c=i(this.selectedDateRange.endDate).unix(),a=i(this.selectedDateRange.startDate).format("HH:mm"),n=i(this.selectedDateRange.endDate).format("HH:mm"),r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({fromDate:t,toDate:c,fromTime:a,toTime:n,reportType:"",merchantID:this.merchantId?this.merchantId:"AGG"===this.userservice.userValue.merchantType?"ALL":this.userservice.userValue.merchantId,transactionStatus:this.defaultStatus,merchantType:this.userservice.userValue.merchantType,dateType:this.searchCriteria.dateType},"AGG"==this.userservice.userValue.merchantType?{aggregatorID:this.userservice.userValue.merchantId}:null),"ALL"==this.merchantId||"SERVICE_PROVIDER"==this.userservice.userValue.userType?{merchantIds:this.userservice.userValue.merchantIds}:null),"ALL"!=this.merchantId&&"AGG"==this.userservice.userValue.merchantType?{merchantIds:[this.merchantId]}:null),"ALL"!=this.merchantId&&"MER"==this.userservice.userValue.merchantType?{merchantIds:[this.userservice.userValue.merchantId]}:null),"SERVICE_PROVIDER"==this.userservice.userValue.userType?{providerId:this.userservice.userValue.providerId}:null);r.reportType="SERVICE_PROVIDER"==this.userservice.userValue.userType?"S_PROVIDER_TRANSACTION":"TRANSACTION",this.transactionService.generateReportsTransaction(r).subscribe((function(t){console.log(t),t.duplicateId==t.id&&null!=t.remarks&&(e.doHighlight=!0,e.duplicateID=t.id,e.notificationService.showInfo("Report for specified date range is already generated.",""),e.findReportPage(t)),t.differentStatus&&null!=t.duplicateId?(e.status=t.id,e.notificationService.showSuccess("Report updated successfully for new records !",""),e.findReportPage(t)):e.getAllReports()})),setTimeout((function(){e.getAllReports()}),2e3)}},{key:"pad2",value:function(e){return e<10?"0"+e:e}},{key:"downloadreport",value:function(e,t){var c=this;if(null==e.count)return this.notificationService.showInfo("Data is not available","");this.datas=[];var a=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,n="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null;this.spinner.show(),this.transactionService.downloadReport(t,a,n).subscribe((function(t){c.datas.push(t),new Date,c.excelService.downloadFile(c.datas,e.fileName),c.spinner.hide()}),(function(e){c.spinner.hide(),400==e.status&&c.notificationService.showError("Report not found !","")}))}},{key:"ngOnInit",value:function(){this.merchantID=this.userservice.userValue.merchantId,this.loggedInUser=this.userservice.userValue,this.merchantName=this.userservice.userValue.merchantName,this.selectedDateRange=this.selected,this.searchCriteria.dateType="Calendar Date",this.loggedInbussinessCutoverTime=this.userservice.userValue.businessCutOverTime,this.merchantIds=["ALL"].concat(this.loggedInUser.merchantIds),this.showReportsData=[],this.merchData=this.userservice.userValue.merchants,this.checkDropdown(),this.pushAll(),"AGG"===this.userservice.userValue.merchantType&&(this.merchantId="ALL"),this.getAllReports()}},{key:"pushAll",value:function(){"ALL"!=this.merchData[0].id&&this.merchData.unshift({id:"ALL",name:""}),console.log(this.merchData)}},{key:"checkDropdown",value:function(){console.log(this.loggedInbussinessCutoverTime),this.isDisabeDropdown="00:00"==this.loggedInbussinessCutoverTime}},{key:"changeTimepickerCondition",value:function(e){console.log(e.target.value),this.showTimepicker="Business Date"!=e.target.value}},{key:"getAllReports",value:function(){var e=this,t=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,c="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null,a={reportType:"TRANSACTION",merchantID:t,merchantType:this.userservice.userValue.merchantType};a.reportType="SERVICE_PROVIDER"==this.userservice.userValue.userType?"S_PROVIDER_TRANSACTION":"TRANSACTION",this.transactionService.getReportsTransaction(a.reportType,t,this.recordPerPage,this.offset,c).subscribe((function(t){e.showReportsData=t}))}},{key:"searchTransanction",value:function(){Object.assign({},this.searchCriteria,this.moreFilters,this.selectedDateRange)}},{key:"reset",value:function(){this.searchCriteria={},this.selectedDateRange=null,this.moreFilters={}}},{key:"pageChanged",value:function(e){this.page=e}},{key:"itemOnPage",value:function(e){this.itemsPerPage=e}},{key:"addMoreFilters",value:function(){this.searchTransanction()}},{key:"close",value:function(){this.moreFilters={}}},{key:"sortingClick",value:function(e){this.sortField=this.selectedField,this.customSort({field:this.selectedField,order:"ASC"===e?1:-1,data:this.filteredData})}},{key:"customSort",value:function(e){this.sortField.length>0&&(e.data&&e.data.sort((function(t,c){var a,n=t[e.field],i=c[e.field];return a=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,e.order*a})),this.sortField="")}},{key:"setSortOption",value:function(e,t){var c=this;this.cols.forEach((function(a){e===a.field&&(a.sortOptions=t,c.selectedSortOption=t)}))}},{key:"getMerchantList",value:function(){var e=this;this.transactionService.merchantList({merchantid:this.loggedInUser.merchantId}).subscribe((function(t){e.merchantList=t}),(function(e){console.log(e)}))}},{key:"selectMer",value:function(){this.getAllReports()}},{key:"findReportPage",value:function(e){var t=this.showReportsData.map((function(e){return e.id})).indexOf(e.id),c=parseInt(String(t/this.itemsPerPage));this.pageChanged(c+1)}}]),e}()).\u0275fac=function(e){return new(e||De)(o.Vb(s.a),o.Vb(l.a),o.Vb(d.a),o.Vb(u.a),o.Vb(h.c))},De.\u0275cmp=o.Pb({type:De,selectors:[["app-transactions"]],decls:92,vars:44,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"container-fluid","p-0",2,"min-height","80vh"],[1,"row"],[1,"card","mt-3"],[1,"card-body",2,"padding-top","0","padding-left","15px","padding-right","15px"],[1,"row","mb-2"],[1,"col-md-12","card-header",2,"font-weight","700"],[1,"fa","fa-exchange",2,"font-weight","700"],[1,"col-md-12"],[1,"row","pl-3","pr-5"],[1,"col-md-4"],["id","calendar-input","type","text","ngxDaterangepickerMd","",1,"form-control",3,"dateLimit","locale","ngModel","autoApply","showCustomRangeLabel","alwaysShowCalendars","ranges","linkedCalendars","showClearButton","keepCalendarOpeningWithRange","timePicker","timePicker24Hour","ngModelChange"],["id","icon","for","calendar-input",1,"date-range-picker-icon","fa","fa-calendar"],[1,"col-md-2"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-2 ",4,"ngIf"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"disabled","ngModelOptions","ngModel","ngModelChange","change"],[1,"col-md-2","mt-2"],[1,"btn","btn-sm","btn-primary","mt-4",3,"click"],[1,"card"],[1,"card-body","pb-0","show-data"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-footer"],[1,"row","col-md-12",2,"float","left"],[1,"col-md-4","d-inline-flex"],[1,"p-2"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"float-right",3,"pageChange"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","pl-2","pr-2"],[1,"col-md-6","pl-2","pr-2","pt-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","ngDefaultControl","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[1,"p-3","pr-4",2,"text-align","right"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","ml-1",3,"click"],[3,"value"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange","change"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"ngStyle",4,"ngFor","ngForOf"],["class","col-md-1",4,"ngIf"],[3,"ngStyle"],[1,"col-md-1"],["class","btn btn-sm btn-danger mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-danger","mt-4"],["class","btn btn-sm btn-primary mt-1",3,"click",4,"appUserAccess"],[1,"btn","btn-sm","btn-primary","mt-1",3,"click"],["class","btn btn-sm btn-info mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-info","mt-4"],[3,"ngClass","click"]],template:function(e,t){1&e&&(o.bc(0,"ngx-spinner",0),o.bc(1,"p",1),o.Qc(2,"Downloading..."),o.ac(),o.ac(),o.bc(3,"ngx-spinner",0),o.bc(4,"p",1),o.Qc(5,"Downloading..."),o.ac(),o.ac(),o.bc(6,"div",2),o.bc(7,"div",3),o.bc(8,"div",4),o.bc(9,"div",5),o.bc(10,"div",6),o.bc(11,"div",7),o.Wb(12,"i",8),o.Qc(13,"Transaction "),o.ac(),o.ac(),o.bc(14,"div",3),o.bc(15,"div",9),o.bc(16,"div",10),o.bc(17,"div",11),o.bc(18,"label"),o.Qc(19,"Duration"),o.ac(),o.bc(20,"input",12),o.jc("ngModelChange",(function(e){return t.selectedDateRange=e})),o.ac(),o.Wb(21,"label",13),o.ac(),o.bc(22,"div",14),o.bc(23,"label"),o.Qc(24,"Status"),o.ac(),o.bc(25,"select",15),o.jc("ngModelChange",(function(e){return t.defaultStatus=e})),o.Oc(26,q,2,2,"option",16),o.ac(),o.ac(),o.Oc(27,W,5,4,"div",17),o.bc(28,"div",14),o.bc(29,"label"),o.Qc(30,"Cutover "),o.ac(),o.bc(31,"select",18),o.jc("ngModelChange",(function(e){return t.searchCriteria.dateType=e}))("change",(function(e){return t.changeTimepickerCondition(e)})),o.Oc(32,Y,2,2,"option",16),o.ac(),o.ac(),o.bc(33,"div",19),o.bc(34,"button",20),o.jc("click",(function(){return t.showReports()})),o.Qc(35," Generate Report "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(36,"div",21),o.bc(37,"div",22),o.bc(38,"table",23),o.bc(39,"thead"),o.bc(40,"tr"),o.Oc(41,J,3,1,"th",24),o.ac(),o.ac(),o.Oc(42,ge,3,8,"tbody",25),o.ac(),o.ac(),o.bc(43,"div",26),o.bc(44,"div",27),o.bc(45,"div",28),o.bc(46,"span",29),o.Qc(47," Show "),o.ac(),o.Oc(48,ve,2,2,"div",30),o.bc(49,"span",29),o.Qc(50," entries per page "),o.ac(),o.ac(),o.Wb(51,"div",11),o.bc(52,"div",11),o.bc(53,"pagination-controls",31),o.jc("pageChange",(function(e){return t.pageChanged(e)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(54,"div",32),o.bc(55,"div",33),o.bc(56,"div",34),o.bc(57,"div",35),o.bc(58,"h5",36),o.Qc(59,"More Filters"),o.ac(),o.bc(60,"button",37),o.jc("click",(function(){return t.close()})),o.bc(61,"span",38),o.Qc(62,"\xd7"),o.ac(),o.ac(),o.ac(),o.bc(63,"div",39),o.bc(64,"div",40),o.bc(65,"div",41),o.bc(66,"label"),o.Qc(67," Recon Status "),o.ac(),o.bc(68,"select",42),o.jc("ngModelChange",(function(e){return t.moreFilters.recon=e})),o.Oc(69,Ie,2,1,"option",24),o.ac(),o.ac(),o.bc(70,"div",41),o.bc(71,"label"),o.Qc(72," Transaction channel "),o.ac(),o.bc(73,"select",42),o.jc("ngModelChange",(function(e){return t.moreFilters.txn=e})),o.Oc(74,ye,2,1,"option",24),o.ac(),o.ac(),o.bc(75,"div",41),o.bc(76,"label"),o.Qc(77,"AddlParam1"),o.ac(),o.bc(78,"input",43),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama1=e})),o.ac(),o.ac(),o.bc(79,"div",41),o.bc(80,"label"),o.Qc(81,"AddlParam2"),o.ac(),o.bc(82,"input",43),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama2=e})),o.ac(),o.ac(),o.bc(83,"div",41),o.bc(84,"label"),o.Qc(85,"Merchant reference ID"),o.ac(),o.bc(86,"input",43),o.jc("ngModelChange",(function(e){return t.moreFilters.refId=e})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(87,"div",44),o.bc(88,"button",45),o.jc("click",(function(){return t.addMoreFilters()})),o.Qc(89,"Apply"),o.ac(),o.bc(90,"button",46),o.jc("click",(function(){return t.close()})),o.Qc(91,"Reset"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.uc("fullScreen",!0),o.Ib(3),o.uc("fullScreen",!0),o.Ib(17),o.uc("dateLimit",o.xc(36,Oe))("locale",o.xc(37,Ce))("ngModel",t.selectedDateRange)("autoApply",!1)("showCustomRangeLabel",!1)("alwaysShowCalendars",!0)("ranges",t.ranges)("linkedCalendars",!0)("showClearButton",!1)("keepCalendarOpeningWithRange",!0)("timePicker",t.showTimepicker)("timePicker24Hour",!0),o.Ib(5),o.uc("ngModel",t.defaultStatus),o.Ib(1),o.uc("ngForOf",t.statuss),o.Ib(1),o.uc("ngIf","AGG"===t.loggedInUser.merchantType),o.Ib(4),o.uc("disabled",t.isDisabeDropdown)("ngModelOptions",o.xc(38,z))("ngModel",t.searchCriteria.dateType),o.Ib(1),o.uc("ngForOf",t.cutOverValues),o.Ib(9),o.uc("ngForOf",t.cols),o.Ib(1),o.uc("ngIf",0==t.filteredData.length),o.Ib(6),o.uc("ngForOf",t.entriesOnPage),o.Ib(20),o.uc("ngModelOptions",o.xc(39,z))("ngModel",t.moreFilters.recon),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(40,z))("ngModel",t.moreFilters.txn),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(41,z))("ngModel",t.moreFilters.addParama1),o.Ib(4),o.uc("ngModelOptions",o.xc(42,z))("ngModel",t.moreFilters.addParama2),o.Ib(4),o.uc("ngModelOptions",o.xc(43,z))("ngModel",t.moreFilters.refId))},directives:[h.a,b.a,m.b,m.n,m.q,m.x,a.m,a.n,f.c,m.r,m.z,a.p,a.r,a.o,p.a,a.l],pipes:[f.b,a.e],styles:[".card[_ngcontent-%COMP%]{width:100%!important}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}th[_ngcontent-%COMP%]{border-top:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:0}.show-data[_ngcontent-%COMP%]{overflow-x:scroll}  .md-drppicker{width:600px!important}label[_ngcontent-%COMP%]{font-weight:500}#icon[_ngcontent-%COMP%]{float:right;margin-top:-24px;font-size:17px;padding-right:8px}.card[_ngcontent-%COMP%]{width:100%;height:100%}"]}),De);function Se(e,t){if(1&e&&(o.bc(0,"option",47),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c.id),o.Ib(1),o.Tc("",c.id," ",c.name," ")}}var Ae=function(){return{standalone:!0}};function we(e,t){if(1&e){var c=o.cc();o.bc(0,"div",44),o.bc(1,"label"),o.Qc(2,"Merchant ID"),o.ac(),o.bc(3,"select",45),o.jc("ngModelChange",(function(e){return o.Ic(c),o.nc().merchantId=e}))("change",(function(){return o.Ic(c),o.nc().selectMer()})),o.Oc(4,Se,2,3,"option",46),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.uc("ngModelOptions",o.xc(3,Ae))("ngModel",a.merchantId),o.Ib(1),o.uc("ngForOf",a.merchData)}}function Re(e,t){if(1&e&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit;o.Ib(1),o.Sc(" ",c.label," \xa0 ")}}function Te(e,t){if(1&e&&(o.bc(0,"th"),o.Zb(1,48),o.Oc(2,Re,2,1,"span",49),o.Yb(),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.uc("ngSwitch",c.field)}}function ke(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(a[c.field])}}function Pe(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function Le(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function xe(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}var Fe=function(){return{"background-color":"yellow"}};function Qe(e,t){if(1&e&&(o.bc(0,"td",52),o.Oc(1,ke,2,1,"div",21),o.Oc(2,Pe,3,4,"div",21),o.Oc(3,Le,3,4,"div",21),o.Oc(4,xe,3,4,"div",21),o.ac()),2&e){var c=t.$implicit,a=o.nc().$implicit,n=o.nc(2);o.uc("ngStyle",n.duplicateID==a.id&&o.xc(5,Fe)),o.Ib(1),o.uc("ngIf","fromDate"!=c.field&&"toDate"!=c.field&&"createdAt"!=c.field),o.Ib(1),o.uc("ngIf","fromDate"==c.field),o.Ib(1),o.uc("ngIf","toDate"==c.field),o.Ib(1),o.uc("ngIf","createdAt"==c.field)}}function Ve(e,t){1&e&&(o.bc(0,"button",55),o.Qc(1," FAILED "),o.ac())}var Ge=function(e){return[e]};function Ee(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,Ve,2,0,"button",54),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,Ge,c.roleAccess.viewSpTransferReportsDownload))}}function $e(e,t){if(1&e){var c=o.cc();o.bc(0,"button",57),o.jc("click",(function(){o.Ic(c);var e=o.nc(2).$implicit;return o.nc(2).downloadreport(e,e.id)})),o.Qc(1," Download "),o.ac()}}function je(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,$e,2,0,"button",56),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,Ge,c.roleAccess.viewSpTransferReportsDownload))}}function Ue(e,t){1&e&&(o.bc(0,"button",59),o.Qc(1," PROCESSING.. "),o.ac())}function _e(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,Ue,2,0,"button",58),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,Ge,c.roleAccess.viewSpTransferReportsDownload))}}function Ne(e,t){if(1&e&&(o.bc(0,"tr"),o.Oc(1,Qe,5,6,"td",50),o.bc(2,"td"),o.Oc(3,Ee,2,3,"div",51),o.Oc(4,je,2,3,"div",51),o.Oc(5,_e,2,3,"div",51),o.ac(),o.ac()),2&e){var c=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngForOf",a.cols),o.Ib(2),o.uc("ngIf","FAILED"==c.status),o.Ib(1),o.uc("ngIf","COMPLETED"==c.status),o.Ib(1),o.uc("ngIf","IN_PROGRESS"==c.status)}}var Be=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}};function qe(e,t){if(1&e&&(o.bc(0,"tbody"),o.Oc(1,Ne,6,4,"tr",20),o.oc(2,"paginate"),o.ac()),2&e){var c=o.nc();o.Ib(1),o.uc("ngForOf",o.qc(2,1,c.showReportsData,o.Ac(4,Be,c.itemsPerPage,c.page,c.showReportsData.length)))}}function He(e,t){if(1&e){var c=o.cc();o.bc(0,"div",60),o.jc("click",(function(){o.Ic(c);var e=t.$implicit;return o.nc().itemOnPage(e)})),o.Qc(1),o.ac()}if(2&e){var a=t.$implicit,n=o.nc();o.uc("ngClass",n.itemsPerPage==a?"item-number-active":"item-number"),o.Ib(1),o.Sc(" ",a," ")}}function ze(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}function We(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}var Ye,Ze=function(){return{days:180}},Je=function(){return{format:"DD/MM/YYYY"}},Xe=((Ye=function(){function e(t,c,a,n,o){_classCallCheck(this,e),this.transactionService=t,this.userservice=c,this.excelService=a,this.notificationService=n,this.spinner=o,this.reportStatus=!1,this.moreFilters={},this.filteredData=[],this.roleAccess=r.a,this.cols=[{label:"From Date",field:"fromDate",sortOptions:"",sort:"number"},{label:"To Date",field:"toDate",sortOptions:"",sort:"number"},{label:"Created At",field:"createdAt",sortOptions:"",sort:"number"},{label:"Created By",field:"createdBy",sortOptions:"",sort:"text"}],this.selected={startDate:i("00:00","HH:mm").subtract(7,"days"),endDate:i("23:59","HH:mm")},this.recordPerPage=100,this.offset=0,this.dummyData=[{merchantID:"120352",reportType:"Transaction",fromDate:"11/26/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"12/22/2021",toDate:"02/27/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2022",toDate:"01/30/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/01/2022",toDate:"02/01/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"19/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/12/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"10/02/2022",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/12/2021",toDate:"12/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/02/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"}],this.itemsPerPage=5,this.page=1,this.entriesOnPage=[5,10,15,20],this.dummyValues=[{label:"All",value:"0"},{label:"One",value:"1"},{label:"Two",value:"2"},{label:"Three",value:"3"}],this.textSortOptions=[{name:"Sort A to Z",value:"ASC",img:"a-z"},{name:"Sort Z to A",value:"DESC",img:"z-a"}],this.numberSortOptions=[{name:"Sort 0 to 9",value:"ASC",img:"a-z"},{name:"Sort 9 to 0",value:"DESC",img:"z-a"}],this.searchCriteria={},this.transactionStatus=[{label:"Success",value:"Success"},{label:"Reject",value:"Reject"},{label:"Request",value:"Request"}],this.ranges={Today:[i().set("hours",0).set("minutes",0),i().set("hours",23).set("minutes",59)],"Last 7 Days":[i().subtract(6,"days"),i()],"Last 30 Days":[i().subtract(29,"days"),i()],"Last 3 Month":[i().subtract(3,"month").startOf("month"),i().subtract(1,"month").endOf("month")]},this.datas=[]}return _createClass(e,[{key:"showReports",value:function(){var e=this;this.filteredData=[];var t=i(this.selectedDateRange.startDate).unix(),c=i(this.selectedDateRange.endDate).unix(),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({fromDate:t,toDate:c,reportType:"TRANSFERS",merchantID:this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,merchantType:this.userservice.userValue.merchantType},"AGG"==this.userservice.userValue.merchantType?{aggregatorID:this.userservice.userValue.merchantId}:null),"ALL"==this.merchantId&&"SERVICE_PROVIDER"==this.userservice.userValue.userType?{merchantIds:this.userservice.userValue.merchantIds}:null),"ALL"!=this.merchantId&&"SERVICE_PROVIDER"==this.userservice.userValue.userType?{merchantIds:[this.merchantId]}:null),"ALL"!=this.merchantId&&"AGG"==this.userservice.userValue.merchantType?{merchantIds:[this.merchantId]}:null),"ALL"!=this.merchantId&&"MER"==this.userservice.userValue.merchantType?{merchantIds:[this.userservice.userValue.merchantId]}:null),"SERVICE_PROVIDER"==this.userservice.userValue.userType?{providerId:this.userservice.userValue.providerId}:null);console.log(a),this.transactionService.generateReportsTransaction(a).subscribe((function(t){t.duplicateId==t.id&&null!=t.remarks?(e.duplicateID=t.id,e.notificationService.showInfo("Report for specified date range is already generated.",""),e.findReportPage(t)):e.getAllReports()})),setTimeout((function(){e.getAllReports()}),2e3)}},{key:"ngOnInit",value:function(){this.loggedInUser=this.userservice.userValue,this.merchantName=this.userservice.userValue.merchantName,"AGG"===this.userservice.userValue.merchantType&&(this.merchantId="ALL"),this.merchantIds=["ALL"].concat(this.loggedInUser.merchantIds),this.showReportsData=[],this.merchantID=this.userservice.userValue.merchantId,this.merchData=this.userservice.userValue.merchants,this.pushAll(),this.selectedDateRange=this.selected,this.getAllReports()}},{key:"pushAll",value:function(){"ALL"!=this.merchData[0].id&&this.merchData.unshift({id:"ALL",name:""})}},{key:"getAllReports",value:function(){var e=this,t=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,c="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null,a={reportType:"TRANSFERS",merchantID:t,merchantType:this.userservice.userValue.merchantType};console.log(a),this.transactionService.getReportsTransaction(a.reportType,t,this.recordPerPage,this.offset,c).subscribe((function(t){e.showReportsData=t,console.log(t)}))}},{key:"pad2",value:function(e){return e<10?"0"+e:e}},{key:"downloadreport",value:function(e,t){var c=this;if(null==e.count)return this.notificationService.showInfo("Data is not available","");this.datas=[];var a=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,n="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null;this.spinner.show(),this.transactionService.downloadReport(t,a,n).subscribe((function(t){c.datas.push(t),console.log(t);var a=new Date;a.getFullYear().toString(),c.pad2(a.getMonth()+1),c.pad2(a.getDate()),c.pad2(a.getHours()),c.pad2(a.getMinutes()),c.pad2(a.getSeconds()),c.excelService.downloadFile(c.datas,e.fileName),c.spinner.hide()}),(function(e){c.spinner.hide(),400==e.status&&c.notificationService.showError("Report not found !","")}))}},{key:"searchTransanction",value:function(){var e={};console.log("+++++++++date range ++++++++",this.selectedDateRange),Object.assign(e,this.searchCriteria,this.moreFilters,this.selectedDateRange),console.log(e)}},{key:"reset",value:function(){this.searchCriteria={},this.selectedDateRange=null,this.moreFilters={}}},{key:"pageChanged",value:function(e){this.page=e}},{key:"itemOnPage",value:function(e){this.page=0,this.itemsPerPage=e}},{key:"addMoreFilters",value:function(){this.searchTransanction()}},{key:"close",value:function(){this.moreFilters={}}},{key:"sortingClick",value:function(e){this.sortField=this.selectedField,this.customSort({field:this.selectedField,order:"ASC"===e?1:-1,data:this.dummyData})}},{key:"customSort",value:function(e){this.sortField.length>0&&(e.data&&e.data.sort((function(t,c){var a,n=t[e.field],i=c[e.field];return a=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,e.order*a})),this.sortField="")}},{key:"setSortOption",value:function(e,t){var c=this;this.cols.forEach((function(a){e===a.field&&(a.sortOptions=t,c.selectedSortOption=t)}))}},{key:"getMerchantList",value:function(){var e=this;this.transactionService.merchantList({merchantid:this.loggedInUser.merchantId}).subscribe((function(t){e.merchantList=t}),(function(e){console.log(e)}))}},{key:"selectMer",value:function(){this.getAllReports()}},{key:"findReportPage",value:function(e){var t=this.showReportsData.map((function(e){return e.id})).indexOf(e.id),c=parseInt(String(t/this.itemsPerPage));this.pageChanged(c+1)}}]),e}()).\u0275fac=function(e){return new(e||Ye)(o.Vb(s.a),o.Vb(l.a),o.Vb(d.a),o.Vb(u.a),o.Vb(h.c))},Ye.\u0275cmp=o.Pb({type:Ye,selectors:[["app-transfer-reports"]],decls:79,vars:36,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"container-fluid","p-0",2,"min-height","80vh"],[1,"row"],[1,"card","mt-3"],[1,"card-body",2,"padding-top","0","padding-left","15px","padding-right","15px"],[1,"row","mb-2"],[1,"col-md-12","card-header",2,"font-weight","700"],[1,"fa","fa-list-alt","ml-2",2,"font-weight","500"],[1,"col-md-12"],[1,"row","pl-3","pr-5"],[1,"col-md-5"],["id","calendar-input","type","text","ngxDaterangepickerMd","",1,"form-control",3,"dateLimit","locale","ngModel","autoApply","showCustomRangeLabel","alwaysShowCalendars","ranges","linkedCalendars","keepCalendarOpeningWithRange","timePicker","timePicker24Hour","showClearButton","ngModelChange"],["id","icon","for","calendar-input",1,"date-range-picker-icon","fa","fa-calendar"],["class","col-md-2 ",4,"ngIf"],[1,"col-md-2","mt-2"],[1,"btn","btn-sm","btn-primary","mt-4",3,"click"],[1,"card"],[1,"card-body","pb-0","show-data"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-footer"],[1,"row","col-md-12",2,"float","left"],[1,"col-md-4","d-inline-flex"],[1,"p-2"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"float-right",3,"pageChange"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","pl-2","pr-2"],[1,"col-md-6","pl-2","pr-2","pt-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","ngDefaultControl","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[1,"p-3","pr-4",2,"text-align","right"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","ml-1",3,"click"],[1,"col-md-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"ngStyle",4,"ngFor","ngForOf"],["class","col-md-1",4,"ngIf"],[3,"ngStyle"],[1,"col-md-1"],["class","btn btn-sm btn-danger mt-1",4,"appUserAccess"],[1,"btn","btn-sm","btn-danger","mt-1"],["class","btn btn-sm btn-primary mt-1",3,"click",4,"appUserAccess"],[1,"btn","btn-sm","btn-primary","mt-1",3,"click"],["class","btn btn-sm btn-info mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-info","mt-4"],[3,"ngClass","click"]],template:function(e,t){1&e&&(o.bc(0,"ngx-spinner",0),o.bc(1,"p",1),o.Qc(2,"Downloading..."),o.ac(),o.ac(),o.bc(3,"div",2),o.bc(4,"div",3),o.bc(5,"div",4),o.bc(6,"div",5),o.bc(7,"div",6),o.bc(8,"div",7),o.Wb(9,"i",8),o.Qc(10,"TRANSFER "),o.ac(),o.ac(),o.bc(11,"div",3),o.bc(12,"div",9),o.bc(13,"div",10),o.bc(14,"div",11),o.bc(15,"label"),o.Qc(16,"Duration"),o.ac(),o.bc(17,"input",12),o.jc("ngModelChange",(function(e){return t.selectedDateRange=e})),o.ac(),o.Wb(18,"label",13),o.ac(),o.Oc(19,we,5,4,"div",14),o.bc(20,"div",15),o.bc(21,"button",16),o.jc("click",(function(){return t.showReports()})),o.Qc(22," Generate Report "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(23,"div",17),o.bc(24,"div",18),o.bc(25,"table",19),o.bc(26,"thead"),o.bc(27,"tr"),o.Oc(28,Te,3,1,"th",20),o.ac(),o.ac(),o.Oc(29,qe,3,8,"tbody",21),o.ac(),o.ac(),o.bc(30,"div",22),o.bc(31,"div",23),o.bc(32,"div",24),o.bc(33,"span",25),o.Qc(34," Show "),o.ac(),o.Oc(35,He,2,2,"div",26),o.bc(36,"span",25),o.Qc(37," entries per page "),o.ac(),o.ac(),o.Wb(38,"div",27),o.bc(39,"div",27),o.bc(40,"pagination-controls",28),o.jc("pageChange",(function(e){return t.pageChanged(e)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(41,"div",29),o.bc(42,"div",30),o.bc(43,"div",31),o.bc(44,"div",32),o.bc(45,"h5",33),o.Qc(46,"More Filters"),o.ac(),o.bc(47,"button",34),o.jc("click",(function(){return t.close()})),o.bc(48,"span",35),o.Qc(49,"\xd7"),o.ac(),o.ac(),o.ac(),o.bc(50,"div",36),o.bc(51,"div",37),o.bc(52,"div",38),o.bc(53,"label"),o.Qc(54," Recon Status "),o.ac(),o.bc(55,"select",39),o.jc("ngModelChange",(function(e){return t.moreFilters.recon=e})),o.Oc(56,ze,2,1,"option",20),o.ac(),o.ac(),o.bc(57,"div",38),o.bc(58,"label"),o.Qc(59," Transaction channel "),o.ac(),o.bc(60,"select",39),o.jc("ngModelChange",(function(e){return t.moreFilters.txn=e})),o.Oc(61,We,2,1,"option",20),o.ac(),o.ac(),o.bc(62,"div",38),o.bc(63,"label"),o.Qc(64,"AddlParam1"),o.ac(),o.bc(65,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama1=e})),o.ac(),o.ac(),o.bc(66,"div",38),o.bc(67,"label"),o.Qc(68,"AddlParam2"),o.ac(),o.bc(69,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama2=e})),o.ac(),o.ac(),o.bc(70,"div",38),o.bc(71,"label"),o.Qc(72,"Merchant reference ID"),o.ac(),o.bc(73,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.refId=e})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(74,"div",41),o.bc(75,"button",42),o.jc("click",(function(){return t.addMoreFilters()})),o.Qc(76,"Apply"),o.ac(),o.bc(77,"button",43),o.jc("click",(function(){return t.close()})),o.Qc(78,"Reset"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.uc("fullScreen",!0),o.Ib(17),o.uc("dateLimit",o.xc(29,Ze))("locale",o.xc(30,Je))("ngModel",t.selectedDateRange)("autoApply",!1)("showCustomRangeLabel",!1)("alwaysShowCalendars",!0)("ranges",t.ranges)("linkedCalendars",!0)("keepCalendarOpeningWithRange",!0)("timePicker",!0)("timePicker24Hour",!0)("showClearButton",!1),o.Ib(2),o.uc("ngIf","AGG"===t.loggedInUser.merchantType),o.Ib(9),o.uc("ngForOf",t.cols),o.Ib(1),o.uc("ngIf",0==t.filteredData.length),o.Ib(6),o.uc("ngForOf",t.entriesOnPage),o.Ib(20),o.uc("ngModelOptions",o.xc(31,Ae))("ngModel",t.moreFilters.recon),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(32,Ae))("ngModel",t.moreFilters.txn),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(33,Ae))("ngModel",t.moreFilters.addParama1),o.Ib(4),o.uc("ngModelOptions",o.xc(34,Ae))("ngModel",t.moreFilters.addParama2),o.Ib(4),o.uc("ngModelOptions",o.xc(35,Ae))("ngModel",t.moreFilters.refId))},directives:[h.a,b.a,m.b,m.n,m.q,a.n,a.m,f.c,m.x,m.r,m.z,a.p,a.r,a.o,p.a,a.l],pipes:[f.b,a.e],styles:[".card[_ngcontent-%COMP%]{width:100%!important}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}th[_ngcontent-%COMP%]{border-top:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:0}.show-data[_ngcontent-%COMP%]{overflow-x:scroll}  .md-drppicker{width:600px!important}label[_ngcontent-%COMP%]{font-weight:500}#icon[_ngcontent-%COMP%]{float:right;margin-top:-24px;font-size:17px;padding-right:8px}"]}),Ye),Ke=c("VHTt");function et(e,t){if(1&e&&(o.bc(0,"option",31),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c),o.Ib(1),o.Rc(c)}}function tt(e,t){if(1&e&&(o.bc(0,"option",31),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c.id),o.Ib(1),o.Tc("",c.id," ",c.name," ")}}var ct=function(){return{standalone:!0}};function at(e,t){if(1&e){var c=o.cc();o.bc(0,"div",14),o.bc(1,"label"),o.Qc(2,"Merchant ID"),o.ac(),o.bc(3,"select",32),o.jc("ngModelChange",(function(e){return o.Ic(c),o.nc().merchantId=e}))("change",(function(){return o.Ic(c),o.nc().selectMer()})),o.Oc(4,tt,2,3,"option",16),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.uc("ngModelOptions",o.xc(3,ct))("ngModel",a.merchantId),o.Ib(1),o.uc("ngForOf",a.merchData)}}function nt(e,t){if(1&e&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit;o.Ib(1),o.Sc(" ",c.label," \xa0 ")}}function it(e,t){if(1&e&&(o.bc(0,"th"),o.Zb(1,33),o.Oc(2,nt,2,1,"span",34),o.Yb(),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.uc("ngSwitch",c.field)}}function rt(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(a[c.field])}}function ot(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy h:mma"))}}function st(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy h:mma"))}}function lt(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy h:mma"))}}var dt=function(){return{"background-color":"yellow"}},ut=function(){return{"background-color":"rgba(147, 231, 240, 0.8)"}};function ht(e,t){if(1&e&&(o.bc(0,"td",37),o.Oc(1,rt,2,1,"div",38),o.Oc(2,ot,3,4,"div",38),o.Oc(3,st,3,4,"div",38),o.Oc(4,lt,3,4,"div",38),o.ac()),2&e){var c=t.$implicit,a=o.nc().$implicit,n=o.nc();o.uc("ngStyle",n.duplicateID==a.id?o.xc(5,dt):a.id==n.status&&o.xc(6,ut)),o.Ib(1),o.uc("ngIf","fromDate"!=c.field&&"toDate"!=c.field&&"createdAt"!=c.field&&"status"!=c.field),o.Ib(1),o.uc("ngIf","fromDate"==c.field),o.Ib(1),o.uc("ngIf","toDate"==c.field),o.Ib(1),o.uc("ngIf","createdAt"==c.field)}}function bt(e,t){1&e&&(o.bc(0,"button",41),o.Qc(1," FAILED "),o.ac())}var mt=function(e){return[e]};function ft(e,t){if(1&e&&(o.bc(0,"div",39),o.Oc(1,bt,2,0,"button",40),o.ac()),2&e){var c=o.nc(2);o.Ib(1),o.uc("appUserAccess",o.yc(1,mt,c.roleAccess.viewInvoiceReportDownload))}}function pt(e,t){if(1&e){var c=o.cc();o.bc(0,"button",43),o.jc("click",(function(){o.Ic(c);var e=o.nc(2).$implicit;return o.nc().downloadreport(e,e.id)})),o.Qc(1," Download "),o.ac()}}function gt(e,t){if(1&e&&(o.bc(0,"div",39),o.Oc(1,pt,2,0,"button",42),o.ac()),2&e){var c=o.nc(2);o.Ib(1),o.uc("appUserAccess",o.yc(1,mt,c.roleAccess.viewInvoiceReportDownload))}}function vt(e,t){1&e&&(o.bc(0,"button",45),o.Qc(1," PROCESSING.. "),o.ac())}function It(e,t){if(1&e&&(o.bc(0,"div",39),o.Oc(1,vt,2,0,"button",44),o.ac()),2&e){var c=o.nc(2);o.Ib(1),o.uc("appUserAccess",o.yc(1,mt,c.roleAccess.viewInvoiceReportDownload))}}function yt(e,t){if(1&e&&(o.bc(0,"tr"),o.Oc(1,ht,5,7,"td",35),o.bc(2,"td"),o.Oc(3,ft,2,3,"div",36),o.Oc(4,gt,2,3,"div",36),o.Oc(5,It,2,3,"div",36),o.ac(),o.ac()),2&e){var c=t.$implicit,a=o.nc();o.Ib(1),o.uc("ngForOf",a.cols),o.Ib(2),o.uc("ngIf","FAILED"==c.status),o.Ib(1),o.uc("ngIf","COMPLETED"==c.status),o.Ib(1),o.uc("ngIf","IN_PROGRESS"==c.status)}}function Dt(e,t){if(1&e){var c=o.cc();o.bc(0,"div",46),o.jc("click",(function(){o.Ic(c);var e=t.$implicit;return o.nc().itemOnPage(e)})),o.Qc(1),o.ac()}if(2&e){var a=t.$implicit,n=o.nc();o.uc("ngClass",n.itemsPerPage==a?"item-number-active":"item-number"),o.Ib(1),o.Sc(" ",a," ")}}var Ot,Ct=function(){return{days:180}},Mt=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}},St=((Ot=function(){function e(t,c,a,n,r){_classCallCheck(this,e),this.userService=t,this.transactionService=c,this.notificationService=a,this.excelService=n,this.spinner=r,this.filteredData=[],this.statuss=["NEW","SUC","INI","FAI","CLOSED","ALL"],this.defaultStatus="SUC",this.roleAccess=Ke.a,this.selected={startDate:i("00:00","HH:mm").subtract(7,"days"),endDate:i("23:59","HH:mm")},this.ranges={Today:[i().set("hours",0).set("minutes",0),i().set("hours",23).set("minutes",59)],"Last 7 Days":[i().subtract(6,"days"),i()],"Last 30 Days":[i().subtract(29,"days"),i()],"Last 3 Month":[i().subtract(3,"month").startOf("month"),i().subtract(1,"month").endOf("month")]},this.cols=[{label:"From Date",field:"fromDate",sortOptions:"",sort:"number"},{label:"To Date",field:"toDate",sortOptions:"",sort:"number"},{label:"Created At",field:"createdAt",sortOptions:"",sort:"number"},{label:"Created By",field:"createdBy",sortOptions:"",sort:"text"}],this.page=1,this.entriesOnPage=[5,10,15,20],this.itemsPerPage=5,this.recordPerPage=100,this.offset=0,this.datas=[]}return _createClass(e,[{key:"showReports",value:function(){var e=this;this.status="",this.duplicateID="",this.filteredData=[];var t=i(this.selectedDateRange.startDate).unix(),c=i(this.selectedDateRange.endDate).unix();i(this.selectedDateRange.startDate).format("HH:mm"),i(this.selectedDateRange.endDate).format("HH:mm");var a=Object.assign(Object.assign(Object.assign(Object.assign({fromDate:t,toDate:c,reportType:"INVOICE",merchantID:this.merchantId?this.merchantId:"AGG"===this.userService.userValue.merchantType?"ALL":this.userService.userValue.merchantId,transactionStatus:this.defaultStatus,merchantType:this.userService.userValue.merchantType},"AGG"==this.userService.userValue.merchantType?{aggregatorID:this.userService.userValue.merchantId}:null),"ALL"==this.merchantId?{merchantIds:this.userService.userValue.merchantIds}:null),"ALL"!=this.merchantId?{merchantIds:[this.merchantId]}:null),"ALL"!=this.merchantId&&"MER"==this.userService.userValue.merchantType?{merchantIds:[this.userService.userValue.merchantId]}:null);console.log(a),this.transactionService.generateReportsTransaction(a).subscribe((function(t){t.duplicateId==t.id&&null!=t.remarks&&(e.duplicateID=t.id,e.notificationService.showInfo("Report for specified date range is already generated.",""),e.findReportPage(t)),t.differentStatus&&null!=t.duplicateId?(e.status=t.id,e.notificationService.showSuccess("Report updated successfully for new records !",""),e.findReportPage(t)):e.getAllReports()})),setTimeout((function(){e.getAllReports()}),2e3)}},{key:"downloadreport",value:function(e,t){var c=this;if(null==e.count)return this.notificationService.showInfo("Data is not available","");this.datas=[];var a=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,n="AGG"===this.userService.userValue.merchantType?this.userService.userValue.merchantId:null;this.spinner.show(),this.transactionService.downloadReport(t,a,n).subscribe((function(t){c.datas.push(t),new Date,c.excelService.downloadFile(c.datas,e.fileName),c.spinner.hide()}),(function(e){c.spinner.hide(),400==e.status&&c.notificationService.showError("Report not found !","")}))}},{key:"ngOnInit",value:function(){this.loggedInUser=this.userService.userValue,this.selectedDateRange=this.selected,this.merchData=this.userService.userValue.merchants,this.merchantIds=["ALL"].concat(this.loggedInUser.merchantIds),this.mID=this.userService.userValue.merchantId,this.showReportsData=[],this.pushAll(),"AGG"===this.userService.userValue.merchantType&&(this.merchantId="ALL"),this.getAllReports()}},{key:"pushAll",value:function(){"ALL"!=this.merchData[0].id&&this.merchData.unshift({id:"ALL",name:""})}},{key:"getAllReports",value:function(){var e=this;this.transactionService.getReportsTransaction("INVOICE",this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,this.recordPerPage,this.offset,"AGG"===this.userService.userValue.merchantType?this.userService.userValue.merchantId:null).subscribe((function(t){e.showReportsData=t}))}},{key:"pageChanged",value:function(e){this.page=e,console.log(e)}},{key:"itemOnPage",value:function(e){this.itemsPerPage=e}},{key:"selectMer",value:function(){}},{key:"findReportPage",value:function(e){var t=this.showReportsData.map((function(e){return e.id})).indexOf(e.id),c=parseInt(String(t/this.itemsPerPage));this.pageChanged(c+1)}}]),e}()).\u0275fac=function(e){return new(e||Ot)(o.Vb(l.a),o.Vb(s.a),o.Vb(u.a),o.Vb(d.a),o.Vb(h.c))},Ot.\u0275cmp=o.Pb({type:Ot,selectors:[["app-invoice"]],decls:48,vars:26,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"container-fluid","p-0",2,"min-height","80vh"],[1,"row"],[1,"card","mt-3"],[1,"card-body",2,"padding-top","0","padding-left","15px","padding-right","15px"],[1,"row","mb-2"],[1,"col-md-12","card-header",2,"font-weight","700"],[1,"fa","fa-list-alt","ml-2",2,"font-weight","500"],[1,"col-md-12"],[1,"row","pl-3","pr-5"],[1,"col-md-5"],["id","calendar;-input","type","text","ngxDaterangepickerMd","",1,"form-control",3,"dateLimit","ngModel","autoApply","showCustomRangeLabel","alwaysShowCalendars","ranges","linkedCalendars","keepCalendarOpeningWithRange","timePicker","timePicker24Hour","showClearButton","ngModelChange"],["id","icon","for","calendar-input",1,"date-range-picker-icon","fa","fa-calendar"],[1,"col-md-2"],[1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-2 ",4,"ngIf"],[1,"col-md-2","mt-2"],[1,"btn","btn-sm","btn-primary","mt-4",3,"click"],[1,"card"],[1,"card-body","pb-0","show-data"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[1,"card-footer"],[1,"row","col-md-12",2,"float","left"],[1,"col-md-4","d-inline-flex"],[1,"p-2"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"float-right",3,"pageChange"],[3,"value"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange","change"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"ngStyle",4,"ngFor","ngForOf"],["class","col-md-1",4,"ngIf"],[3,"ngStyle"],[4,"ngIf"],[1,"col-md-1"],["class","btn btn-sm btn-danger mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-danger","mt-4"],["class","btn btn-sm btn-primary mt-1",3,"click",4,"appUserAccess"],[1,"btn","btn-sm","btn-primary","mt-1",3,"click"],["class","btn btn-sm btn-info mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-info","mt-4"],[3,"ngClass","click"]],template:function(e,t){1&e&&(o.bc(0,"ngx-spinner",0),o.bc(1,"p",1),o.Qc(2,"Downloading..."),o.ac(),o.ac(),o.bc(3,"div",2),o.bc(4,"div",3),o.bc(5,"div",4),o.bc(6,"div",5),o.bc(7,"div",6),o.bc(8,"div",7),o.Wb(9,"i",8),o.Qc(10,"INVOICE "),o.ac(),o.ac(),o.bc(11,"div",3),o.bc(12,"div",9),o.bc(13,"div",10),o.bc(14,"div",11),o.bc(15,"label"),o.Qc(16,"Duration"),o.ac(),o.bc(17,"input",12),o.jc("ngModelChange",(function(e){return t.selectedDateRange=e})),o.ac(),o.Wb(18,"label",13),o.ac(),o.bc(19,"div",14),o.bc(20,"label"),o.Qc(21,"Status"),o.ac(),o.bc(22,"select",15),o.jc("ngModelChange",(function(e){return t.defaultStatus=e})),o.Oc(23,et,2,2,"option",16),o.ac(),o.ac(),o.Oc(24,at,5,4,"div",17),o.bc(25,"div",18),o.bc(26,"button",19),o.jc("click",(function(){return t.showReports()})),o.Qc(27," Generate Report "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(28,"div",20),o.bc(29,"div",21),o.bc(30,"table",22),o.bc(31,"thead"),o.bc(32,"tr"),o.Oc(33,it,3,1,"th",23),o.ac(),o.ac(),o.bc(34,"tbody"),o.Oc(35,yt,6,4,"tr",23),o.oc(36,"paginate"),o.ac(),o.ac(),o.ac(),o.bc(37,"div",24),o.bc(38,"div",25),o.bc(39,"div",26),o.bc(40,"span",27),o.Qc(41," Show "),o.ac(),o.Oc(42,Dt,2,2,"div",28),o.bc(43,"span",27),o.Qc(44," entries per page "),o.ac(),o.ac(),o.Wb(45,"div",29),o.bc(46,"div",29),o.bc(47,"pagination-controls",30),o.jc("pageChange",(function(e){return t.pageChanged(e)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.uc("fullScreen",!0),o.Ib(17),o.uc("dateLimit",o.xc(21,Ct))("ngModel",t.selectedDateRange)("autoApply",!1)("showCustomRangeLabel",!1)("alwaysShowCalendars",!0)("ranges",t.ranges)("linkedCalendars",!0)("keepCalendarOpeningWithRange",!0)("timePicker",!0)("timePicker24Hour",!0)("showClearButton",!1),o.Ib(5),o.uc("ngModel",t.defaultStatus),o.Ib(1),o.uc("ngForOf",t.statuss),o.Ib(1),o.uc("ngIf","AGG"===t.loggedInUser.merchantType),o.Ib(9),o.uc("ngForOf",t.cols),o.Ib(2),o.uc("ngForOf",o.qc(36,18,t.showReportsData,o.Ac(22,Mt,t.itemsPerPage,t.page,t.showReportsData.length))),o.Ib(7),o.uc("ngForOf",t.entriesOnPage))},directives:[h.a,b.a,m.b,m.n,m.q,m.x,a.m,a.n,f.c,m.r,m.z,a.p,a.r,a.o,p.a,a.l],pipes:[f.b,a.e],styles:[".card[_ngcontent-%COMP%]{width:100%!important}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}th[_ngcontent-%COMP%]{border-top:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:0}.show-data[_ngcontent-%COMP%]{overflow-x:scroll}  .md-drppicker{width:600px!important}label[_ngcontent-%COMP%]{font-weight:500}#icon[_ngcontent-%COMP%]{float:right;margin-top:-24px;font-size:17px;padding-right:8px}"]}),Ot);function At(e,t){1&e&&(o.bc(0,"div",43),o.Wb(1,"i",44),o.Qc(2,"Detailed Settlement "),o.ac())}function wt(e,t){1&e&&(o.bc(0,"div",43),o.Wb(1,"i",44),o.Qc(2,"Settlement "),o.ac())}function Rt(e,t){if(1&e&&(o.bc(0,"option",48),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c.id),o.Ib(1),o.Tc("",c.id," ",c.name," ")}}var Tt=function(){return{standalone:!0}};function kt(e,t){if(1&e){var c=o.cc();o.bc(0,"div",45),o.bc(1,"label"),o.Qc(2,"Merchant ID"),o.ac(),o.bc(3,"select",46),o.jc("ngModelChange",(function(e){return o.Ic(c),o.nc().merchantId=e}))("change",(function(){return o.Ic(c),o.nc().selectMer()})),o.Oc(4,Rt,2,3,"option",47),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.uc("ngModelOptions",o.xc(3,Tt))("ngModel",a.merchantId),o.Ib(1),o.uc("ngForOf",a.merchData)}}function Pt(e,t){if(1&e&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit;o.Ib(1),o.Sc(" ",c.label," \xa0 ")}}function Lt(e,t){if(1&e&&(o.bc(0,"th"),o.Zb(1,49),o.Oc(2,Pt,2,1,"span",50),o.Yb(),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.uc("ngSwitch",c.field)}}function xt(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(a[c.field])}}function Ft(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function Qt(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function Vt(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}var Gt=function(){return{"background-color":"yellow"}};function Et(e,t){if(1&e&&(o.bc(0,"td",53),o.Oc(1,xt,2,1,"div",20),o.Oc(2,Ft,3,4,"div",20),o.Oc(3,Qt,3,4,"div",20),o.Oc(4,Vt,3,4,"div",20),o.ac()),2&e){var c=t.$implicit,a=o.nc().$implicit,n=o.nc(2);o.uc("ngStyle",n.duplicateID==a.id&&o.xc(5,Gt)),o.Ib(1),o.uc("ngIf","fromDate"!=c.field&&"toDate"!=c.field&&"createdAt"!=c.field),o.Ib(1),o.uc("ngIf","fromDate"==c.field),o.Ib(1),o.uc("ngIf","toDate"==c.field),o.Ib(1),o.uc("ngIf","createdAt"==c.field)}}function $t(e,t){1&e&&(o.bc(0,"button",56),o.Qc(1," FAILED "),o.ac())}var jt=function(e){return[e]};function Ut(e,t){if(1&e&&(o.bc(0,"div",54),o.Oc(1,$t,2,0,"button",55),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,jt,c.roleAccess.viewReportsSettlementDownload))}}function _t(e,t){if(1&e){var c=o.cc();o.bc(0,"button",58),o.jc("click",(function(){o.Ic(c);var e=o.nc(2).$implicit;return o.nc(2).downloadreport(e,e.id)})),o.Qc(1," Download "),o.ac()}}function Nt(e,t){if(1&e&&(o.bc(0,"div",54),o.Oc(1,_t,2,0,"button",57),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,jt,c.roleAccess.viewReportsSettlementDownload))}}function Bt(e,t){1&e&&(o.bc(0,"button",60),o.Qc(1," PROCESSING.. "),o.ac())}function qt(e,t){if(1&e&&(o.bc(0,"div",54),o.Oc(1,Bt,2,0,"button",59),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,jt,c.roleAccess.viewReportsSettlementDownload))}}function Ht(e,t){if(1&e&&(o.bc(0,"tr"),o.Oc(1,Et,5,6,"td",51),o.bc(2,"td"),o.Oc(3,Ut,2,3,"div",52),o.Oc(4,Nt,2,3,"div",52),o.Oc(5,qt,2,3,"div",52),o.ac(),o.ac()),2&e){var c=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngForOf",a.cols),o.Ib(2),o.uc("ngIf","FAILED"==c.status),o.Ib(1),o.uc("ngIf","COMPLETED"==c.status),o.Ib(1),o.uc("ngIf","IN_PROGRESS"==c.status)}}var zt=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}};function Wt(e,t){if(1&e&&(o.bc(0,"tbody"),o.Oc(1,Ht,6,4,"tr",19),o.oc(2,"paginate"),o.ac()),2&e){var c=o.nc();o.Ib(1),o.uc("ngForOf",o.qc(2,1,c.showReportsData,o.Ac(4,zt,c.itemsPerPage,c.page,c.showReportsData.length)))}}function Yt(e,t){if(1&e){var c=o.cc();o.bc(0,"div",61),o.jc("click",(function(){o.Ic(c);var e=t.$implicit;return o.nc().itemOnPage(e)})),o.Qc(1),o.ac()}if(2&e){var a=t.$implicit,n=o.nc();o.uc("ngClass",n.itemsPerPage==a?"item-number-active":"item-number"),o.Ib(1),o.Sc(" ",a," ")}}function Zt(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}function Jt(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}var Xt=function(){return{format:"DD/MM/YYYY"}};function Kt(e,t){if(1&e&&(o.bc(0,"option",47),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c.id),o.Ib(1),o.Tc("",c.id," ",c.name," ")}}var ec=function(){return{standalone:!0}};function tc(e,t){if(1&e){var c=o.cc();o.bc(0,"div",44),o.bc(1,"label"),o.Qc(2,"Merchant ID"),o.ac(),o.bc(3,"select",45),o.jc("ngModelChange",(function(e){return o.Ic(c),o.nc().merchantId=e}))("change",(function(){return o.Ic(c),o.nc().selectMer()})),o.Oc(4,Kt,2,3,"option",46),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.uc("ngModelOptions",o.xc(3,ec))("ngModel",a.merchantId),o.Ib(1),o.uc("ngForOf",a.merchData)}}function cc(e,t){if(1&e&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit;o.Ib(1),o.Sc(" ",c.label," \xa0 ")}}function ac(e,t){if(1&e&&(o.bc(0,"th"),o.Zb(1,48),o.Oc(2,cc,2,1,"span",49),o.Yb(),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.uc("ngSwitch",c.field)}}function nc(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(a[c.field])}}function ic(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function rc(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function oc(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}var sc=function(){return{"background-color":"yellow"}};function lc(e,t){if(1&e&&(o.bc(0,"td",52),o.Oc(1,nc,2,1,"div",21),o.Oc(2,ic,3,4,"div",21),o.Oc(3,rc,3,4,"div",21),o.Oc(4,oc,3,4,"div",21),o.ac()),2&e){var c=t.$implicit,a=o.nc().$implicit,n=o.nc(2);o.uc("ngStyle",n.duplicateID==a.id&&o.xc(5,sc)),o.Ib(1),o.uc("ngIf","fromDate"!=c.field&&"toDate"!=c.field&&"createdAt"!=c.field),o.Ib(1),o.uc("ngIf","fromDate"==c.field),o.Ib(1),o.uc("ngIf","toDate"==c.field),o.Ib(1),o.uc("ngIf","createdAt"==c.field)}}function dc(e,t){1&e&&(o.bc(0,"button",55),o.Qc(1," FAILED "),o.ac())}var uc=function(e){return[e]};function hc(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,dc,2,0,"button",54),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,uc,c.roleAccess.viewReportsSettlementDownload))}}function bc(e,t){if(1&e){var c=o.cc();o.bc(0,"button",57),o.jc("click",(function(){o.Ic(c);var e=o.nc(2).$implicit;return o.nc(2).downloadreport(e,e.id)})),o.Qc(1," Download "),o.ac()}}function mc(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,bc,2,0,"button",56),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,uc,c.roleAccess.viewReportsSettlementDownload))}}function fc(e,t){1&e&&(o.bc(0,"button",59),o.Qc(1," PROCESSING.. "),o.ac())}function pc(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,fc,2,0,"button",58),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,uc,c.roleAccess.viewReportsSettlementDownload))}}function gc(e,t){if(1&e&&(o.bc(0,"tr"),o.Oc(1,lc,5,6,"td",50),o.bc(2,"td"),o.Oc(3,hc,2,3,"div",51),o.Oc(4,mc,2,3,"div",51),o.Oc(5,pc,2,3,"div",51),o.ac(),o.ac()),2&e){var c=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngForOf",a.cols),o.Ib(2),o.uc("ngIf","FAILED"==c.status),o.Ib(1),o.uc("ngIf","COMPLETED"==c.status),o.Ib(1),o.uc("ngIf","IN_PROGRESS"==c.status)}}var vc=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}};function Ic(e,t){if(1&e&&(o.bc(0,"tbody"),o.Oc(1,gc,6,4,"tr",20),o.oc(2,"paginate"),o.ac()),2&e){var c=o.nc();o.Ib(1),o.uc("ngForOf",o.qc(2,1,c.showReportsData,o.Ac(4,vc,c.itemsPerPage,c.page,c.showReportsData.length)))}}function yc(e,t){if(1&e){var c=o.cc();o.bc(0,"div",60),o.jc("click",(function(){o.Ic(c);var e=t.$implicit;return o.nc().itemOnPage(e)})),o.Qc(1),o.ac()}if(2&e){var a=t.$implicit,n=o.nc();o.uc("ngClass",n.itemsPerPage==a?"item-number-active":"item-number"),o.Ib(1),o.Sc(" ",a," ")}}function Dc(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}function Oc(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}var Cc=function(){return{format:"DD/MM/YYYY"}};function Mc(e,t){if(1&e&&(o.bc(0,"option",47),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.uc("value",c.id),o.Ib(1),o.Tc("",c.id," ",c.name," ")}}var Sc=function(){return{standalone:!0}};function Ac(e,t){if(1&e){var c=o.cc();o.bc(0,"div",44),o.bc(1,"label"),o.Qc(2,"Merchant ID"),o.ac(),o.bc(3,"select",45),o.jc("ngModelChange",(function(e){return o.Ic(c),o.nc().merchantId=e}))("change",(function(){return o.Ic(c),o.nc().selectMer()})),o.Oc(4,Mc,2,3,"option",46),o.ac(),o.ac()}if(2&e){var a=o.nc();o.Ib(3),o.uc("ngModelOptions",o.xc(3,Sc))("ngModel",a.merchantId),o.Ib(1),o.uc("ngForOf",a.merchData)}}function wc(e,t){if(1&e&&(o.bc(0,"span"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit;o.Ib(1),o.Sc(" ",c.label," \xa0 ")}}function Rc(e,t){if(1&e&&(o.bc(0,"th"),o.Zb(1,48),o.Oc(2,wc,2,1,"span",49),o.Yb(),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.uc("ngSwitch",c.field)}}function Tc(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Rc(a[c.field])}}function kc(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function Pc(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}function Lc(e,t){if(1&e&&(o.bc(0,"div"),o.Qc(1),o.oc(2,"date"),o.ac()),2&e){var c=o.nc().$implicit,a=o.nc().$implicit;o.Ib(1),o.Sc("",o.qc(2,1,1e3*a[c.field],"dd/MM/yyyy")," ")}}var xc=function(){return{"background-color":"yellow"}};function Fc(e,t){if(1&e&&(o.bc(0,"td",52),o.Oc(1,Tc,2,1,"div",21),o.Oc(2,kc,3,4,"div",21),o.Oc(3,Pc,3,4,"div",21),o.Oc(4,Lc,3,4,"div",21),o.ac()),2&e){var c=t.$implicit,a=o.nc().$implicit,n=o.nc(2);o.uc("ngStyle",n.duplicateID==a.id&&o.xc(5,xc)),o.Ib(1),o.uc("ngIf","fromDate"!=c.field&&"toDate"!=c.field&&"createdAt"!=c.field),o.Ib(1),o.uc("ngIf","fromDate"==c.field),o.Ib(1),o.uc("ngIf","toDate"==c.field),o.Ib(1),o.uc("ngIf","createdAt"==c.field)}}function Qc(e,t){1&e&&(o.bc(0,"button",55),o.Qc(1," FAILED "),o.ac())}var Vc=function(e){return[e]};function Gc(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,Qc,2,0,"button",54),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,Vc,c.roleAccess.viewReportsSettlementDownload))}}function Ec(e,t){if(1&e){var c=o.cc();o.bc(0,"button",57),o.jc("click",(function(){o.Ic(c);var e=o.nc(2).$implicit;return o.nc(2).downloadreport(e,e.id)})),o.Qc(1," Download "),o.ac()}}function $c(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,Ec,2,0,"button",56),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,Vc,c.roleAccess.viewReportsSettlementDownload))}}function jc(e,t){1&e&&(o.bc(0,"button",59),o.Qc(1," PROCESSING.. "),o.ac())}function Uc(e,t){if(1&e&&(o.bc(0,"div",53),o.Oc(1,jc,2,0,"button",58),o.ac()),2&e){var c=o.nc(3);o.Ib(1),o.uc("appUserAccess",o.yc(1,Vc,c.roleAccess.viewReportsSettlementDownload))}}function _c(e,t){if(1&e&&(o.bc(0,"tr"),o.Oc(1,Fc,5,6,"td",50),o.bc(2,"td"),o.Oc(3,Gc,2,3,"div",51),o.Oc(4,$c,2,3,"div",51),o.Oc(5,Uc,2,3,"div",51),o.ac(),o.ac()),2&e){var c=t.$implicit,a=o.nc(2);o.Ib(1),o.uc("ngForOf",a.cols),o.Ib(2),o.uc("ngIf","FAILED"==c.status),o.Ib(1),o.uc("ngIf","COMPLETED"==c.status),o.Ib(1),o.uc("ngIf","IN_PROGRESS"==c.status)}}var Nc=function(e,t,c){return{itemsPerPage:e,currentPage:t,totalItems:c}};function Bc(e,t){if(1&e&&(o.bc(0,"tbody"),o.Oc(1,_c,6,4,"tr",20),o.oc(2,"paginate"),o.ac()),2&e){var c=o.nc();o.Ib(1),o.uc("ngForOf",o.qc(2,1,c.showReportsData,o.Ac(4,Nc,c.itemsPerPage,c.page,c.showReportsData.length)))}}function qc(e,t){if(1&e){var c=o.cc();o.bc(0,"div",60),o.jc("click",(function(){o.Ic(c);var e=t.$implicit;return o.nc().itemOnPage(e)})),o.Qc(1),o.ac()}if(2&e){var a=t.$implicit,n=o.nc();o.uc("ngClass",n.itemsPerPage==a?"item-number-active":"item-number"),o.Ib(1),o.Sc(" ",a," ")}}function Hc(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}function zc(e,t){if(1&e&&(o.bc(0,"option"),o.Qc(1),o.ac()),2&e){var c=t.$implicit;o.Ib(1),o.Rc(c.label)}}var Wc,Yc,Zc,Jc,Xc,Kc=function(){return{format:"DD/MM/YYYY"}},ea=[{path:"",data:{title:"reports"},children:[{path:"",redirectTo:"transactions"},{path:"transactions",component:Me,data:{title:"transactions"}},{path:"settlement",component:B,data:{title:"settlement"}},{path:"detail-settlement",component:(Zc=function(){function e(t,c,a,n,o){_classCallCheck(this,e),this.transactionService=t,this.userservice=c,this.excelService=a,this.notificationService=n,this.spinner=o,this.reportStatus=!1,this.moreFilters={},this.filteredData=[],this.roleAccess=r.a,this.cols=[{label:"From Date",field:"fromDate",sortOptions:"",sort:"number"},{label:"To Date",field:"toDate",sortOptions:"",sort:"number"},{label:"Created At",field:"createdAt",sortOptions:"",sort:"number"},{label:"Created By",field:"createdBy",sortOptions:"",sort:"text"}],this.selected={startDate:i().subtract(7,"days"),endDate:i()},this.recordPerPage=100,this.offset=0,this.dummyData=[{merchantID:"120352",reportType:"Transaction",fromDate:"11/26/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"12/22/2021",toDate:"02/27/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2022",toDate:"01/30/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/01/2022",toDate:"02/01/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"19/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/12/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"10/02/2022",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/12/2021",toDate:"12/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/02/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"}],this.itemsPerPage=5,this.page=1,this.entriesOnPage=[5,10,15,20],this.isBial=!1,this.dummyValues=[{label:"All",value:"0"},{label:"One",value:"1"},{label:"Two",value:"2"},{label:"Three",value:"3"}],this.textSortOptions=[{name:"Sort A to Z",value:"ASC",img:"a-z"},{name:"Sort Z to A",value:"DESC",img:"z-a"}],this.numberSortOptions=[{name:"Sort 0 to 9",value:"ASC",img:"a-z"},{name:"Sort 9 to 0",value:"DESC",img:"z-a"}],this.searchCriteria={},this.transactionStatus=[{label:"Success",value:"Success"},{label:"Reject",value:"Reject"},{label:"Request",value:"Request"}],this.ranges={Today:[i(),i()],"Last 7 Days":[i().subtract(6,"days"),i()],"Last 30 Days":[i().subtract(29,"days"),i()],"Last 3 Month":[i().subtract(3,"month").startOf("month"),i().subtract(1,"month").endOf("month")]},this.datas=[]}return _createClass(e,[{key:"showReports",value:function(){var e=this;this.filteredData=[];var t=i(this.selectedDateRange.startDate).unix(),c=i(this.selectedDateRange.endDate).unix(),a=Object.assign({fromDate:t,toDate:c,reportType:"DETAILED_SETTLEMENT",merchantID:this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,merchantType:this.userservice.userValue.merchantType},"AGG"==this.userservice.userValue.merchantType?{aggregatorID:this.userservice.userValue.merchantId}:null);console.log(a),this.transactionService.generateReportsTransaction(a).subscribe((function(t){t.duplicateId==t.id&&null!=t.remarks?(e.duplicateID=t.id,e.notificationService.showInfo("Report for specified date range is already generated.","")):e.getAllReports()})),setTimeout((function(){e.getAllReports()}),2e3)}},{key:"ngOnInit",value:function(){this.loggedInUser=this.userservice.userValue,this.merchantName=this.userservice.userValue.merchantName,this.isBial=this.userservice.userValue.bial,this.isSplitMerchant=this.userservice.userValue.splitSettlementFlag,"AGG"===this.userservice.userValue.merchantType&&(this.merchantId="ALL"),this.merchantIds=["ALL"].concat(this.loggedInUser.merchantIds),this.showReportsData=[],this.merchantID=this.userservice.userValue.merchantId,this.merchData=this.userservice.userValue.merchants,this.pushAll(),this.getAllReports(),this.selectedDateRange=this.selected}},{key:"pushAll",value:function(){"ALL"!=this.merchData[0].id&&this.merchData.unshift({id:"ALL",name:""})}},{key:"getAllReports",value:function(){var e=this,t=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,c="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null,a={reportType:"DETAILED_SETTLEMENT",merchantID:t,merchantType:this.userservice.userValue.merchantType};console.log(a),this.transactionService.getReportsTransaction(a.reportType,t,this.recordPerPage,this.offset,c).subscribe((function(t){e.showReportsData=t,console.log(t)}))}},{key:"pad2",value:function(e){return e<10?"0"+e:e}},{key:"downloadreport",value:function(e,t){var c=this;if(null==e.count)return this.notificationService.showInfo("Data is not available","");this.datas=[];var a=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,n="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null;this.spinner.show(),this.transactionService.downloadReport(t,a,n).subscribe((function(t){c.datas.push(t),console.log(t);var a=new Date;a.getFullYear().toString(),c.pad2(a.getMonth()+1),c.pad2(a.getDate()),c.pad2(a.getHours()),c.pad2(a.getMinutes()),c.pad2(a.getSeconds()),c.excelService.downloadFile(c.datas,e.fileName),c.spinner.hide()}),(function(e){c.spinner.hide(),400==e.status&&c.notificationService.showError("Report not found !","")}))}},{key:"searchTransanction",value:function(){var e={};console.log("+++++++++date range ++++++++",this.selectedDateRange),Object.assign(e,this.searchCriteria,this.moreFilters,this.selectedDateRange),console.log(e)}},{key:"reset",value:function(){this.searchCriteria={},this.selectedDateRange=null,this.moreFilters={}}},{key:"pageChanged",value:function(e){this.page=e}},{key:"itemOnPage",value:function(e){this.page=0,this.itemsPerPage=e}},{key:"addMoreFilters",value:function(){this.searchTransanction()}},{key:"close",value:function(){this.moreFilters={}}},{key:"sortingClick",value:function(e){this.sortField=this.selectedField,this.customSort({field:this.selectedField,order:"ASC"===e?1:-1,data:this.dummyData})}},{key:"customSort",value:function(e){this.sortField.length>0&&(e.data&&e.data.sort((function(t,c){var a,n=t[e.field],i=c[e.field];return a=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,e.order*a})),this.sortField="")}},{key:"setSortOption",value:function(e,t){var c=this;this.cols.forEach((function(a){e===a.field&&(a.sortOptions=t,c.selectedSortOption=t)}))}},{key:"getMerchantList",value:function(){var e=this;this.transactionService.merchantList({merchantid:this.loggedInUser.merchantId}).subscribe((function(t){e.merchantList=t}),(function(e){console.log(e)}))}},{key:"selectMer",value:function(){this.getAllReports()}}]),e}(),Zc.\u0275fac=function(e){return new(e||Zc)(o.Vb(s.a),o.Vb(l.a),o.Vb(d.a),o.Vb(u.a),o.Vb(h.c))},Zc.\u0275cmp=o.Pb({type:Zc,selectors:[["app-detailed-settlement"]],decls:78,vars:37,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"container-fluid","p-0",2,"min-height","80vh"],[1,"row"],[1,"card","mt-3"],[1,"card-body",2,"padding-top","0","padding-left","15px","padding-right","15px"],[1,"row","mb-2"],["class","col-md-12  card-header","style","font-weight: 700;",4,"ngIf"],[1,"col-md-12"],[1,"row","pl-3","pr-5"],[1,"col-md-5"],["id","calendar-input","type","text","ngxDaterangepickerMd","",1,"form-control",3,"dateLimit","ngModel","locale","autoApply","showCustomRangeLabel","alwaysShowCalendars","ranges","linkedCalendars","keepCalendarOpeningWithRange","timePicker","timePicker24Hour","showClearButton","ngModelChange"],["id","icon","for","calendar-input",1,"date-range-picker-icon","fa","fa-calendar"],["class","col-md-2 ",4,"ngIf"],[1,"col-md-2","mt-2"],[1,"btn","btn-sm","btn-primary","mt-4",3,"click"],[1,"card"],[1,"card-body","pb-0","show-data"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-footer"],[1,"row","col-md-12",2,"float","left"],[1,"col-md-4","d-inline-flex"],[1,"p-2"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"float-right",3,"pageChange"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","pl-2","pr-2"],[1,"col-md-6","pl-2","pr-2","pt-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","ngDefaultControl","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[1,"p-3","pr-4",2,"text-align","right"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","ml-1",3,"click"],[1,"col-md-12","card-header",2,"font-weight","700"],[1,"fa","fa-list-alt","ml-2",2,"font-weight","500"],[1,"col-md-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"ngStyle",4,"ngFor","ngForOf"],["class","col-md-1",4,"ngIf"],[3,"ngStyle"],[1,"col-md-1"],["class","btn btn-sm btn-danger mt-1",4,"appUserAccess"],[1,"btn","btn-sm","btn-danger","mt-1"],["class","btn btn-sm btn-primary mt-1",3,"click",4,"appUserAccess"],[1,"btn","btn-sm","btn-primary","mt-1",3,"click"],["class","btn btn-sm btn-info mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-info","mt-4"],[3,"ngClass","click"]],template:function(e,t){1&e&&(o.bc(0,"ngx-spinner",0),o.bc(1,"p",1),o.Qc(2,"Downloading..."),o.ac(),o.ac(),o.bc(3,"div",2),o.bc(4,"div",3),o.bc(5,"div",4),o.bc(6,"div",5),o.bc(7,"div",6),o.Oc(8,At,3,0,"div",7),o.Oc(9,wt,3,0,"div",7),o.ac(),o.bc(10,"div",3),o.bc(11,"div",8),o.bc(12,"div",9),o.bc(13,"div",10),o.bc(14,"label"),o.Qc(15,"Duration"),o.ac(),o.bc(16,"input",11),o.jc("ngModelChange",(function(e){return t.selectedDateRange=e})),o.ac(),o.Wb(17,"label",12),o.ac(),o.Oc(18,kt,5,4,"div",13),o.bc(19,"div",14),o.bc(20,"button",15),o.jc("click",(function(){return t.showReports()})),o.Qc(21," Generate Report "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(22,"div",16),o.bc(23,"div",17),o.bc(24,"table",18),o.bc(25,"thead"),o.bc(26,"tr"),o.Oc(27,Lt,3,1,"th",19),o.ac(),o.ac(),o.Oc(28,Wt,3,8,"tbody",20),o.ac(),o.ac(),o.bc(29,"div",21),o.bc(30,"div",22),o.bc(31,"div",23),o.bc(32,"span",24),o.Qc(33," Show "),o.ac(),o.Oc(34,Yt,2,2,"div",25),o.bc(35,"span",24),o.Qc(36," entries per page "),o.ac(),o.ac(),o.Wb(37,"div",26),o.bc(38,"div",26),o.bc(39,"pagination-controls",27),o.jc("pageChange",(function(e){return t.pageChanged(e)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(40,"div",28),o.bc(41,"div",29),o.bc(42,"div",30),o.bc(43,"div",31),o.bc(44,"h5",32),o.Qc(45,"More Filters"),o.ac(),o.bc(46,"button",33),o.jc("click",(function(){return t.close()})),o.bc(47,"span",34),o.Qc(48,"\xd7"),o.ac(),o.ac(),o.ac(),o.bc(49,"div",35),o.bc(50,"div",36),o.bc(51,"div",37),o.bc(52,"label"),o.Qc(53," Recon Status "),o.ac(),o.bc(54,"select",38),o.jc("ngModelChange",(function(e){return t.moreFilters.recon=e})),o.Oc(55,Zt,2,1,"option",19),o.ac(),o.ac(),o.bc(56,"div",37),o.bc(57,"label"),o.Qc(58," Transaction channel "),o.ac(),o.bc(59,"select",38),o.jc("ngModelChange",(function(e){return t.moreFilters.txn=e})),o.Oc(60,Jt,2,1,"option",19),o.ac(),o.ac(),o.bc(61,"div",37),o.bc(62,"label"),o.Qc(63,"AddlParam1"),o.ac(),o.bc(64,"input",39),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama1=e})),o.ac(),o.ac(),o.bc(65,"div",37),o.bc(66,"label"),o.Qc(67,"AddlParam2"),o.ac(),o.bc(68,"input",39),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama2=e})),o.ac(),o.ac(),o.bc(69,"div",37),o.bc(70,"label"),o.Qc(71,"Merchant reference ID"),o.ac(),o.bc(72,"input",39),o.jc("ngModelChange",(function(e){return t.moreFilters.refId=e})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(73,"div",40),o.bc(74,"button",41),o.jc("click",(function(){return t.addMoreFilters()})),o.Qc(75,"Apply"),o.ac(),o.bc(76,"button",42),o.jc("click",(function(){return t.close()})),o.Qc(77,"Reset"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.uc("fullScreen",!0),o.Ib(8),o.uc("ngIf",!t.isBial),o.Ib(1),o.uc("ngIf",t.isBial),o.Ib(7),o.uc("dateLimit",90)("ngModel",t.selectedDateRange)("locale",o.xc(31,Xt))("autoApply",!1)("showCustomRangeLabel",!1)("alwaysShowCalendars",!0)("ranges",t.ranges)("linkedCalendars",!0)("keepCalendarOpeningWithRange",!0)("timePicker",!1)("timePicker24Hour",!0)("showClearButton",!1),o.Ib(2),o.uc("ngIf","AGG"===t.loggedInUser.merchantType),o.Ib(9),o.uc("ngForOf",t.cols),o.Ib(1),o.uc("ngIf",0==t.filteredData.length),o.Ib(6),o.uc("ngForOf",t.entriesOnPage),o.Ib(20),o.uc("ngModelOptions",o.xc(32,Tt))("ngModel",t.moreFilters.recon),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(33,Tt))("ngModel",t.moreFilters.txn),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(34,Tt))("ngModel",t.moreFilters.addParama1),o.Ib(4),o.uc("ngModelOptions",o.xc(35,Tt))("ngModel",t.moreFilters.addParama2),o.Ib(4),o.uc("ngModelOptions",o.xc(36,Tt))("ngModel",t.moreFilters.refId))},directives:[h.a,a.n,b.a,m.b,m.n,m.q,a.m,f.c,m.x,m.r,m.z,a.p,a.r,a.o,p.a,a.l],pipes:[f.b,a.e],styles:[".card[_ngcontent-%COMP%]{width:100%!important}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}th[_ngcontent-%COMP%]{border-top:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:0}.show-data[_ngcontent-%COMP%]{overflow-x:scroll}  .md-drppicker{width:600px!important}label[_ngcontent-%COMP%]{font-weight:500}#icon[_ngcontent-%COMP%]{float:right;margin-top:-24px;font-size:17px;padding-right:8px}"]}),Zc),data:{title:"detial settlement"}},{path:"transfer",component:Xe,data:{title:"transfer"}},{path:"invoice-report",component:St,data:{title:"invoice"}},{path:"ledger-report",component:(Yc=function(){function e(t,c,a,n,o){_classCallCheck(this,e),this.transactionService=t,this.userservice=c,this.excelService=a,this.notificationService=n,this.spinner=o,this.reportStatus=!1,this.moreFilters={},this.filteredData=[],this.roleAccess=r.a,this.cols=[{label:"From Date",field:"fromDate",sortOptions:"",sort:"number"},{label:"To Date",field:"toDate",sortOptions:"",sort:"number"},{label:"Created At",field:"createdAt",sortOptions:"",sort:"number"},{label:"Created By",field:"createdBy",sortOptions:"",sort:"text"}],this.selected={startDate:i().subtract(7,"days"),endDate:i()},this.recordPerPage=100,this.offset=0,this.dummyData=[{merchantID:"120352",reportType:"Transaction",fromDate:"11/26/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"12/22/2021",toDate:"02/27/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2022",toDate:"01/30/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/01/2022",toDate:"02/01/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"19/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/12/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"10/02/2022",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/12/2021",toDate:"12/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/02/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"}],this.itemsPerPage=5,this.page=1,this.entriesOnPage=[5,10,15,20],this.dummyValues=[{label:"All",value:"0"},{label:"One",value:"1"},{label:"Two",value:"2"},{label:"Three",value:"3"}],this.textSortOptions=[{name:"Sort A to Z",value:"ASC",img:"a-z"},{name:"Sort Z to A",value:"DESC",img:"z-a"}],this.numberSortOptions=[{name:"Sort 0 to 9",value:"ASC",img:"a-z"},{name:"Sort 9 to 0",value:"DESC",img:"z-a"}],this.searchCriteria={},this.transactionStatus=[{label:"Success",value:"Success"},{label:"Reject",value:"Reject"},{label:"Request",value:"Request"}],this.ranges={Today:[i(),i()],"Last 7 Days":[i().subtract(6,"days"),i()],"Last 30 Days":[i().subtract(29,"days"),i()],"Last 3 Month":[i().subtract(3,"month").startOf("month"),i().subtract(1,"month").endOf("month")],"Last 6 Months":[i().subtract(6,"month").startOf("month"),i().subtract(1,"month").endOf("month")]},this.datas=[]}return _createClass(e,[{key:"showReports",value:function(){var e=this;this.filteredData=[];var t=i(this.selectedDateRange.startDate).unix(),c=i(this.selectedDateRange.endDate).unix(),a=Object.assign({fromDate:t,toDate:c,reportType:"MERCHANT_LEDGER",merchantID:this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,merchantType:this.userservice.userValue.merchantType},"AGG"==this.userservice.userValue.merchantType?{aggregatorID:this.userservice.userValue.merchantId}:null);console.log(a),this.transactionService.generateReportsTransaction(a).subscribe((function(t){t.duplicateId==t.id&&null!=t.remarks?(e.duplicateID=t.id,e.notificationService.showInfo("Report for specified date range is already generated.","")):e.getAllReports()})),setTimeout((function(){e.getAllReports()}),2e3)}},{key:"ngOnInit",value:function(){this.loggedInUser=this.userservice.userValue,this.merchantName=this.userservice.userValue.merchantName,"AGG"===this.userservice.userValue.merchantType&&(this.merchantId="ALL"),this.merchantIds=["ALL"].concat(this.loggedInUser.merchantIds),this.showReportsData=[],this.merchantID=this.userservice.userValue.merchantId,this.merchData=this.userservice.userValue.merchants,this.pushAll(),this.getAllReports(),this.selectedDateRange=this.selected}},{key:"pushAll",value:function(){"ALL"!=this.merchData[0].id&&this.merchData.unshift({id:"ALL",name:""})}},{key:"getAllReports",value:function(){var e=this,t=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,c="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null,a={reportType:"MERCHANT_LEDGER",merchantID:t,merchantType:this.userservice.userValue.merchantType};console.log(a),this.transactionService.getReportsTransaction(a.reportType,t,this.recordPerPage,this.offset,c).subscribe((function(t){e.showReportsData=t,console.log(t)}))}},{key:"pad2",value:function(e){return e<10?"0"+e:e}},{key:"downloadreport",value:function(e,t){var c=this;if(null==e.count)return this.notificationService.showInfo("Data is not available","");this.datas=[];var a=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,n="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null;this.spinner.show(),this.transactionService.downloadReport(t,a,n).subscribe((function(t){c.datas.push(t),console.log(t);var a=new Date;a.getFullYear().toString(),c.pad2(a.getMonth()+1),c.pad2(a.getDate()),c.pad2(a.getHours()),c.pad2(a.getMinutes()),c.pad2(a.getSeconds()),c.excelService.downloadFile(c.datas,e.fileName),c.spinner.hide()}),(function(e){c.spinner.hide(),400==e.status&&c.notificationService.showError("Report not found !","")}))}},{key:"searchTransanction",value:function(){var e={};console.log("+++++++++date range ++++++++",this.selectedDateRange),Object.assign(e,this.searchCriteria,this.moreFilters,this.selectedDateRange),console.log(e)}},{key:"reset",value:function(){this.searchCriteria={},this.selectedDateRange=null,this.moreFilters={}}},{key:"pageChanged",value:function(e){this.page=e}},{key:"itemOnPage",value:function(e){this.page=0,this.itemsPerPage=e}},{key:"addMoreFilters",value:function(){this.searchTransanction()}},{key:"close",value:function(){this.moreFilters={}}},{key:"sortingClick",value:function(e){this.sortField=this.selectedField,this.customSort({field:this.selectedField,order:"ASC"===e?1:-1,data:this.dummyData})}},{key:"customSort",value:function(e){this.sortField.length>0&&(e.data&&e.data.sort((function(t,c){var a,n=t[e.field],i=c[e.field];return a=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,e.order*a})),this.sortField="")}},{key:"setSortOption",value:function(e,t){var c=this;this.cols.forEach((function(a){e===a.field&&(a.sortOptions=t,c.selectedSortOption=t)}))}},{key:"getMerchantList",value:function(){var e=this;this.transactionService.merchantList({merchantid:this.loggedInUser.merchantId}).subscribe((function(t){e.merchantList=t}),(function(e){console.log(e)}))}},{key:"selectMer",value:function(){this.getAllReports()}}]),e}(),Yc.\u0275fac=function(e){return new(e||Yc)(o.Vb(s.a),o.Vb(l.a),o.Vb(d.a),o.Vb(u.a),o.Vb(h.c))},Yc.\u0275cmp=o.Pb({type:Yc,selectors:[["app-ledger-report"]],decls:79,vars:35,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"container-fluid","p-0",2,"min-height","80vh"],[1,"row"],[1,"card","mt-3"],[1,"card-body",2,"padding-top","0","padding-left","15px","padding-right","15px"],[1,"row","mb-2"],[1,"col-md-12","card-header",2,"font-weight","700"],[1,"fa","fa-address-card","ml-2",2,"font-weight","500"],[1,"col-md-12"],[1,"row","pl-3","pr-5"],[1,"col-md-5"],["id","calendar-input","type","text","ngxDaterangepickerMd","",1,"form-control",3,"dateLimit","ngModel","locale","autoApply","showCustomRangeLabel","alwaysShowCalendars","ranges","linkedCalendars","keepCalendarOpeningWithRange","timePicker","timePicker24Hour","showClearButton","ngModelChange"],["id","icon","for","calendar-input",1,"date-range-picker-icon","fa","fa-calendar"],["class","col-md-2 ",4,"ngIf"],[1,"col-md-2","mt-2"],[1,"btn","btn-sm","btn-primary","mt-4",3,"click"],[1,"card"],[1,"card-body","pb-0","show-data"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-footer"],[1,"row","col-md-12",2,"float","left"],[1,"col-md-4","d-inline-flex"],[1,"p-2"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"float-right",3,"pageChange"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","pl-2","pr-2"],[1,"col-md-6","pl-2","pr-2","pt-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","ngDefaultControl","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[1,"p-3","pr-4",2,"text-align","right"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","ml-1",3,"click"],[1,"col-md-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"ngStyle",4,"ngFor","ngForOf"],["class","col-md-1",4,"ngIf"],[3,"ngStyle"],[1,"col-md-1"],["class","btn btn-sm btn-danger mt-1",4,"appUserAccess"],[1,"btn","btn-sm","btn-danger","mt-1"],["class","btn btn-sm btn-primary mt-1",3,"click",4,"appUserAccess"],[1,"btn","btn-sm","btn-primary","mt-1",3,"click"],["class","btn btn-sm btn-info mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-info","mt-4"],[3,"ngClass","click"]],template:function(e,t){1&e&&(o.bc(0,"ngx-spinner",0),o.bc(1,"p",1),o.Qc(2,"Downloading..."),o.ac(),o.ac(),o.bc(3,"div",2),o.bc(4,"div",3),o.bc(5,"div",4),o.bc(6,"div",5),o.bc(7,"div",6),o.bc(8,"div",7),o.Wb(9,"i",8),o.Qc(10,"Ledger "),o.ac(),o.ac(),o.bc(11,"div",3),o.bc(12,"div",9),o.bc(13,"div",10),o.bc(14,"div",11),o.bc(15,"label"),o.Qc(16,"Duration"),o.ac(),o.bc(17,"input",12),o.jc("ngModelChange",(function(e){return t.selectedDateRange=e})),o.ac(),o.Wb(18,"label",13),o.ac(),o.Oc(19,tc,5,4,"div",14),o.bc(20,"div",15),o.bc(21,"button",16),o.jc("click",(function(){return t.showReports()})),o.Qc(22," Generate Report "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(23,"div",17),o.bc(24,"div",18),o.bc(25,"table",19),o.bc(26,"thead"),o.bc(27,"tr"),o.Oc(28,ac,3,1,"th",20),o.ac(),o.ac(),o.Oc(29,Ic,3,8,"tbody",21),o.ac(),o.ac(),o.bc(30,"div",22),o.bc(31,"div",23),o.bc(32,"div",24),o.bc(33,"span",25),o.Qc(34," Show "),o.ac(),o.Oc(35,yc,2,2,"div",26),o.bc(36,"span",25),o.Qc(37," entries per page "),o.ac(),o.ac(),o.Wb(38,"div",27),o.bc(39,"div",27),o.bc(40,"pagination-controls",28),o.jc("pageChange",(function(e){return t.pageChanged(e)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(41,"div",29),o.bc(42,"div",30),o.bc(43,"div",31),o.bc(44,"div",32),o.bc(45,"h5",33),o.Qc(46,"More Filters"),o.ac(),o.bc(47,"button",34),o.jc("click",(function(){return t.close()})),o.bc(48,"span",35),o.Qc(49,"\xd7"),o.ac(),o.ac(),o.ac(),o.bc(50,"div",36),o.bc(51,"div",37),o.bc(52,"div",38),o.bc(53,"label"),o.Qc(54," Recon Status "),o.ac(),o.bc(55,"select",39),o.jc("ngModelChange",(function(e){return t.moreFilters.recon=e})),o.Oc(56,Dc,2,1,"option",20),o.ac(),o.ac(),o.bc(57,"div",38),o.bc(58,"label"),o.Qc(59," Transaction channel "),o.ac(),o.bc(60,"select",39),o.jc("ngModelChange",(function(e){return t.moreFilters.txn=e})),o.Oc(61,Oc,2,1,"option",20),o.ac(),o.ac(),o.bc(62,"div",38),o.bc(63,"label"),o.Qc(64,"AddlParam1"),o.ac(),o.bc(65,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama1=e})),o.ac(),o.ac(),o.bc(66,"div",38),o.bc(67,"label"),o.Qc(68,"AddlParam2"),o.ac(),o.bc(69,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama2=e})),o.ac(),o.ac(),o.bc(70,"div",38),o.bc(71,"label"),o.Qc(72,"Merchant reference ID"),o.ac(),o.bc(73,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.refId=e})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(74,"div",41),o.bc(75,"button",42),o.jc("click",(function(){return t.addMoreFilters()})),o.Qc(76,"Apply"),o.ac(),o.bc(77,"button",43),o.jc("click",(function(){return t.close()})),o.Qc(78,"Reset"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.uc("fullScreen",!0),o.Ib(17),o.uc("dateLimit",90)("ngModel",t.selectedDateRange)("locale",o.xc(29,Cc))("autoApply",!1)("showCustomRangeLabel",!1)("alwaysShowCalendars",!0)("ranges",t.ranges)("linkedCalendars",!0)("keepCalendarOpeningWithRange",!0)("timePicker",!1)("timePicker24Hour",!0)("showClearButton",!1),o.Ib(2),o.uc("ngIf","AGG"===t.loggedInUser.merchantType),o.Ib(9),o.uc("ngForOf",t.cols),o.Ib(1),o.uc("ngIf",0==t.filteredData.length),o.Ib(6),o.uc("ngForOf",t.entriesOnPage),o.Ib(20),o.uc("ngModelOptions",o.xc(30,ec))("ngModel",t.moreFilters.recon),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(31,ec))("ngModel",t.moreFilters.txn),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(32,ec))("ngModel",t.moreFilters.addParama1),o.Ib(4),o.uc("ngModelOptions",o.xc(33,ec))("ngModel",t.moreFilters.addParama2),o.Ib(4),o.uc("ngModelOptions",o.xc(34,ec))("ngModel",t.moreFilters.refId))},directives:[h.a,b.a,m.b,m.n,m.q,a.n,a.m,f.c,m.x,m.r,m.z,a.p,a.r,a.o,p.a,a.l],pipes:[f.b,a.e],styles:[".card[_ngcontent-%COMP%]{width:100%!important}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}th[_ngcontent-%COMP%]{border-top:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:0}.show-data[_ngcontent-%COMP%]{overflow-x:scroll}  .md-drppicker{width:600px!important}label[_ngcontent-%COMP%]{font-weight:500}#icon[_ngcontent-%COMP%]{float:right;margin-top:-24px;font-size:17px;padding-right:8px}"]}),Yc),data:{title:"ledger"}},{path:"topup-report",component:(Wc=function(){function e(t,c,a,n,o){_classCallCheck(this,e),this.transactionService=t,this.userservice=c,this.excelService=a,this.notificationService=n,this.spinner=o,this.reportStatus=!1,this.moreFilters={},this.filteredData=[],this.roleAccess=r.a,this.cols=[{label:"From Date",field:"fromDate",sortOptions:"",sort:"number"},{label:"To Date",field:"toDate",sortOptions:"",sort:"number"},{label:"Created At",field:"createdAt",sortOptions:"",sort:"number"},{label:"Created By",field:"createdBy",sortOptions:"",sort:"text"}],this.selected={startDate:i().subtract(7,"days"),endDate:i()},this.recordPerPage=100,this.offset=0,this.dummyData=[{merchantID:"120352",reportType:"Transaction",fromDate:"11/26/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"12/22/2021",toDate:"02/27/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2022",toDate:"01/30/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/01/2022",toDate:"02/01/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"19/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/02/2021",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/12/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"10/02/2022",toDate:"02/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"11/12/2021",toDate:"12/02/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"},{merchantID:"120352",reportType:"Transaction",fromDate:"01/02/2021",toDate:"02/22/2022",status:"abcfed",fileLocation:"abcfed/location",fileName:"testing",createdAt:"10/02/2022",createdBy:"abcd"}],this.itemsPerPage=5,this.page=1,this.entriesOnPage=[5,10,15,20],this.dummyValues=[{label:"All",value:"0"},{label:"One",value:"1"},{label:"Two",value:"2"},{label:"Three",value:"3"}],this.textSortOptions=[{name:"Sort A to Z",value:"ASC",img:"a-z"},{name:"Sort Z to A",value:"DESC",img:"z-a"}],this.numberSortOptions=[{name:"Sort 0 to 9",value:"ASC",img:"a-z"},{name:"Sort 9 to 0",value:"DESC",img:"z-a"}],this.searchCriteria={},this.transactionStatus=[{label:"Success",value:"Success"},{label:"Reject",value:"Reject"},{label:"Request",value:"Request"}],this.ranges={Today:[i(),i()],"Last 7 Days":[i().subtract(6,"days"),i()],"Last 30 Days":[i().subtract(29,"days"),i()],"Last 3 Month":[i().subtract(3,"month").startOf("month"),i().subtract(1,"month").endOf("month")],"Last 6 Months":[i().subtract(6,"month").startOf("month"),i().subtract(1,"month").endOf("month")]},this.datas=[]}return _createClass(e,[{key:"showReports",value:function(){var e=this;this.filteredData=[];var t=i(this.selectedDateRange.startDate).unix(),c=i(this.selectedDateRange.endDate).unix(),a=Object.assign({fromDate:t,toDate:c,reportType:"MERCHANT_TOP_UP_STATEMENT",merchantID:this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,merchantType:this.userservice.userValue.merchantType},"AGG"==this.userservice.userValue.merchantType?{aggregatorID:this.userservice.userValue.merchantId}:null);console.log(a),this.transactionService.generateReportsTransaction(a).subscribe((function(t){t.duplicateId==t.id&&null!=t.remarks?(e.duplicateID=t.id,e.notificationService.showInfo("Report for specified date range is already generated.","")):e.getAllReports()})),setTimeout((function(){e.getAllReports()}),2e3)}},{key:"ngOnInit",value:function(){this.loggedInUser=this.userservice.userValue,this.merchantName=this.userservice.userValue.merchantName,"AGG"===this.userservice.userValue.merchantType&&(this.merchantId="ALL"),this.merchantIds=["ALL"].concat(this.loggedInUser.merchantIds),this.showReportsData=[],this.merchantID=this.userservice.userValue.merchantId,this.merchData=this.userservice.userValue.merchants,this.pushAll(),this.getAllReports(),this.selectedDateRange=this.selected}},{key:"pushAll",value:function(){"ALL"!=this.merchData[0].id&&this.merchData.unshift({id:"ALL",name:""})}},{key:"getAllReports",value:function(){var e=this,t=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,c="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null,a={reportType:"MERCHANT_TOP_UP_STATEMENT",merchantID:t,merchantType:this.userservice.userValue.merchantType};console.log(a),this.transactionService.getReportsTransaction(a.reportType,t,this.recordPerPage,this.offset,c).subscribe((function(t){e.showReportsData=t,console.log(t)}))}},{key:"pad2",value:function(e){return e<10?"0"+e:e}},{key:"downloadreport",value:function(e,t){var c=this;if(null==e.count)return this.notificationService.showInfo("Data is not available","");this.datas=[];var a=this.merchantId?this.merchantId:"AGG"===this.loggedInUser.merchantType?"ALL":this.loggedInUser.merchantId,n="AGG"===this.userservice.userValue.merchantType?this.userservice.userValue.merchantId:null;this.spinner.show(),this.transactionService.downloadReport(t,a,n).subscribe((function(t){c.datas.push(t),console.log(t);var a=new Date;a.getFullYear().toString(),c.pad2(a.getMonth()+1),c.pad2(a.getDate()),c.pad2(a.getHours()),c.pad2(a.getMinutes()),c.pad2(a.getSeconds()),c.excelService.downloadFile(c.datas,e.fileName),c.spinner.hide()}),(function(e){c.spinner.hide(),400==e.status&&c.notificationService.showError("Report not found !","")}))}},{key:"searchTransanction",value:function(){var e={};console.log("+++++++++date range ++++++++",this.selectedDateRange),Object.assign(e,this.searchCriteria,this.moreFilters,this.selectedDateRange),console.log(e)}},{key:"reset",value:function(){this.searchCriteria={},this.selectedDateRange=null,this.moreFilters={}}},{key:"pageChanged",value:function(e){this.page=e}},{key:"itemOnPage",value:function(e){this.page=0,this.itemsPerPage=e}},{key:"addMoreFilters",value:function(){this.searchTransanction()}},{key:"close",value:function(){this.moreFilters={}}},{key:"sortingClick",value:function(e){this.sortField=this.selectedField,this.customSort({field:this.selectedField,order:"ASC"===e?1:-1,data:this.dummyData})}},{key:"customSort",value:function(e){this.sortField.length>0&&(e.data&&e.data.sort((function(t,c){var a,n=t[e.field],i=c[e.field];return a=null==n&&null!=i?-1:null!=n&&null==i?1:null==n&&null==i?0:"string"==typeof n&&"string"==typeof i?n.localeCompare(i):n<i?-1:n>i?1:0,e.order*a})),this.sortField="")}},{key:"setSortOption",value:function(e,t){var c=this;this.cols.forEach((function(a){e===a.field&&(a.sortOptions=t,c.selectedSortOption=t)}))}},{key:"getMerchantList",value:function(){var e=this;this.transactionService.merchantList({merchantid:this.loggedInUser.merchantId}).subscribe((function(t){e.merchantList=t}),(function(e){console.log(e)}))}},{key:"selectMer",value:function(){this.getAllReports()}}]),e}(),Wc.\u0275fac=function(e){return new(e||Wc)(o.Vb(s.a),o.Vb(l.a),o.Vb(d.a),o.Vb(u.a),o.Vb(h.c))},Wc.\u0275cmp=o.Pb({type:Wc,selectors:[["app-top-up"]],decls:79,vars:35,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin-fade",3,"fullScreen"],[2,"color","white"],[1,"container-fluid","p-0",2,"min-height","80vh"],[1,"row"],[1,"card","mt-3"],[1,"card-body",2,"padding-top","0","padding-left","15px","padding-right","15px"],[1,"row","mb-2"],[1,"col-md-12","card-header",2,"font-weight","700"],[1,"fa","fa-file-text-o","ml-2",2,"font-weight","500"],[1,"col-md-12"],[1,"row","pl-3","pr-5"],[1,"col-md-5"],["id","calendar-input","type","text","ngxDaterangepickerMd","",1,"form-control",3,"dateLimit","ngModel","locale","autoApply","showCustomRangeLabel","alwaysShowCalendars","ranges","linkedCalendars","keepCalendarOpeningWithRange","timePicker","timePicker24Hour","showClearButton","ngModelChange"],["id","icon","for","calendar-input",1,"date-range-picker-icon","fa","fa-calendar"],["class","col-md-2 ",4,"ngIf"],[1,"col-md-2","mt-2"],[1,"btn","btn-sm","btn-primary","mt-4",3,"click"],[1,"card"],[1,"card-body","pb-0","show-data"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-footer"],[1,"row","col-md-12",2,"float","left"],[1,"col-md-4","d-inline-flex"],[1,"p-2"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"float-right",3,"pageChange"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","pl-2","pr-2"],[1,"col-md-6","pl-2","pr-2","pt-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange"],["type","text","ngDefaultControl","",1,"form-control",3,"ngModelOptions","ngModel","ngModelChange"],[1,"p-3","pr-4",2,"text-align","right"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","ml-1",3,"click"],[1,"col-md-2"],["ngDefaultControl","",1,"custom-select","mb-2","mr-sm-2","mb-sm-0",3,"ngModelOptions","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"ngStyle",4,"ngFor","ngForOf"],["class","col-md-1",4,"ngIf"],[3,"ngStyle"],[1,"col-md-1"],["class","btn btn-sm btn-danger mt-1",4,"appUserAccess"],[1,"btn","btn-sm","btn-danger","mt-1"],["class","btn btn-sm btn-primary mt-1",3,"click",4,"appUserAccess"],[1,"btn","btn-sm","btn-primary","mt-1",3,"click"],["class","btn btn-sm btn-info mt-4",4,"appUserAccess"],[1,"btn","btn-sm","btn-info","mt-4"],[3,"ngClass","click"]],template:function(e,t){1&e&&(o.bc(0,"ngx-spinner",0),o.bc(1,"p",1),o.Qc(2,"Downloading..."),o.ac(),o.ac(),o.bc(3,"div",2),o.bc(4,"div",3),o.bc(5,"div",4),o.bc(6,"div",5),o.bc(7,"div",6),o.bc(8,"div",7),o.Wb(9,"i",8),o.Qc(10,"Topup "),o.ac(),o.ac(),o.bc(11,"div",3),o.bc(12,"div",9),o.bc(13,"div",10),o.bc(14,"div",11),o.bc(15,"label"),o.Qc(16,"Duration"),o.ac(),o.bc(17,"input",12),o.jc("ngModelChange",(function(e){return t.selectedDateRange=e})),o.ac(),o.Wb(18,"label",13),o.ac(),o.Oc(19,Ac,5,4,"div",14),o.bc(20,"div",15),o.bc(21,"button",16),o.jc("click",(function(){return t.showReports()})),o.Qc(22," Generate Report "),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(23,"div",17),o.bc(24,"div",18),o.bc(25,"table",19),o.bc(26,"thead"),o.bc(27,"tr"),o.Oc(28,Rc,3,1,"th",20),o.ac(),o.ac(),o.Oc(29,Bc,3,8,"tbody",21),o.ac(),o.ac(),o.bc(30,"div",22),o.bc(31,"div",23),o.bc(32,"div",24),o.bc(33,"span",25),o.Qc(34," Show "),o.ac(),o.Oc(35,qc,2,2,"div",26),o.bc(36,"span",25),o.Qc(37," entries per page "),o.ac(),o.ac(),o.Wb(38,"div",27),o.bc(39,"div",27),o.bc(40,"pagination-controls",28),o.jc("pageChange",(function(e){return t.pageChanged(e)})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(41,"div",29),o.bc(42,"div",30),o.bc(43,"div",31),o.bc(44,"div",32),o.bc(45,"h5",33),o.Qc(46,"More Filters"),o.ac(),o.bc(47,"button",34),o.jc("click",(function(){return t.close()})),o.bc(48,"span",35),o.Qc(49,"\xd7"),o.ac(),o.ac(),o.ac(),o.bc(50,"div",36),o.bc(51,"div",37),o.bc(52,"div",38),o.bc(53,"label"),o.Qc(54," Recon Status "),o.ac(),o.bc(55,"select",39),o.jc("ngModelChange",(function(e){return t.moreFilters.recon=e})),o.Oc(56,Hc,2,1,"option",20),o.ac(),o.ac(),o.bc(57,"div",38),o.bc(58,"label"),o.Qc(59," Transaction channel "),o.ac(),o.bc(60,"select",39),o.jc("ngModelChange",(function(e){return t.moreFilters.txn=e})),o.Oc(61,zc,2,1,"option",20),o.ac(),o.ac(),o.bc(62,"div",38),o.bc(63,"label"),o.Qc(64,"AddlParam1"),o.ac(),o.bc(65,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama1=e})),o.ac(),o.ac(),o.bc(66,"div",38),o.bc(67,"label"),o.Qc(68,"AddlParam2"),o.ac(),o.bc(69,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.addParama2=e})),o.ac(),o.ac(),o.bc(70,"div",38),o.bc(71,"label"),o.Qc(72,"Merchant reference ID"),o.ac(),o.bc(73,"input",40),o.jc("ngModelChange",(function(e){return t.moreFilters.refId=e})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(74,"div",41),o.bc(75,"button",42),o.jc("click",(function(){return t.addMoreFilters()})),o.Qc(76,"Apply"),o.ac(),o.bc(77,"button",43),o.jc("click",(function(){return t.close()})),o.Qc(78,"Reset"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&e&&(o.uc("fullScreen",!0),o.Ib(17),o.uc("dateLimit",90)("ngModel",t.selectedDateRange)("locale",o.xc(29,Kc))("autoApply",!1)("showCustomRangeLabel",!1)("alwaysShowCalendars",!0)("ranges",t.ranges)("linkedCalendars",!0)("keepCalendarOpeningWithRange",!0)("timePicker",!1)("timePicker24Hour",!0)("showClearButton",!1),o.Ib(2),o.uc("ngIf","AGG"===t.loggedInUser.merchantType),o.Ib(9),o.uc("ngForOf",t.cols),o.Ib(1),o.uc("ngIf",0==t.filteredData.length),o.Ib(6),o.uc("ngForOf",t.entriesOnPage),o.Ib(20),o.uc("ngModelOptions",o.xc(30,Sc))("ngModel",t.moreFilters.recon),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(31,Sc))("ngModel",t.moreFilters.txn),o.Ib(1),o.uc("ngForOf",t.dummyValues),o.Ib(4),o.uc("ngModelOptions",o.xc(32,Sc))("ngModel",t.moreFilters.addParama1),o.Ib(4),o.uc("ngModelOptions",o.xc(33,Sc))("ngModel",t.moreFilters.addParama2),o.Ib(4),o.uc("ngModelOptions",o.xc(34,Sc))("ngModel",t.moreFilters.refId))},directives:[h.a,b.a,m.b,m.n,m.q,a.n,a.m,f.c,m.x,m.r,m.z,a.p,a.r,a.o,p.a,a.l],pipes:[f.b,a.e],styles:[".card[_ngcontent-%COMP%]{width:100%!important}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}th[_ngcontent-%COMP%]{border-top:none}.dropdown-menu[_ngcontent-%COMP%]{min-width:0}.show-data[_ngcontent-%COMP%]{overflow-x:scroll}  .md-drppicker{width:600px!important}label[_ngcontent-%COMP%]{font-weight:500}#icon[_ngcontent-%COMP%]{float:right;margin-top:-24px;font-size:17px;padding-right:8px}"]}),Wc),data:{title:"ledger"}}]}],ta=((Jc=function e(){_classCallCheck(this,e)}).\u0275mod=o.Tb({type:Jc}),Jc.\u0275inj=o.Sb({factory:function(e){return new(e||Jc)},imports:[[n.g.forChild(ea)],n.g]}),Jc),ca=c("FE24"),aa=c("GtQl"),na=c("d2mR"),ia=((Xc=function e(){_classCallCheck(this,e)}).\u0275mod=o.Tb({type:Xc}),Xc.\u0275inj=o.Sb({factory:function(e){return new(e||Xc)},imports:[[a.c,ta,f.a,ca.c,m.i,b.b.forRoot(),aa.a,na.a,h.b]]}),Xc)}}]);