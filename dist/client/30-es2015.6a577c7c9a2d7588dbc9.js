(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{LFR9:function(t,e,c){"use strict";c.r(e),c.d(e,"TopUpModule",(function(){return $}));var n=c("SVse"),a=c("kFe1"),i=c("iInd"),o=c("wd/R"),r=c("s7LF"),s=c("XNiG"),l=c("orU0"),d=c("8Y7J"),u=c("OC8m"),p=c("qfBg"),h=c("IheW");let f=(()=>{class t{constructor(t,e){this.http=t,this.userService=e}getTopUpList(t){return this.http.post(this.userService.urlValue.url+"/api/merchant-ledger/merchant-top-up-statement-list",t)}}return t.\u0275fac=function(e){return new(e||t)(d.fc(h.b),d.fc(p.a))},t.\u0275prov=d.Rb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var b=c("xkgV");const m=function(){return{format:"DD/MM/YYYY"}};function g(t,e){if(1&t&&(d.bc(0,"div",23),d.Wb(1,"input",24),d.Wb(2,"label",25),d.ac()),2&t){const t=d.nc();d.Ib(1),d.uc("formControl",t.searchForm.controls.searchDate)("locale",d.xc(11,m))("dateLimit",90)("autoApply",!1)("showCustomRangeLabel",!1)("alwaysShowCalendars",!0)("timePicker",!0)("timePicker24Hour",!0)("ranges",t.ranges)("linkedCalendars",!0)("keepCalendarOpeningWithRange",!0)}}function v(t,e){1&t&&(d.bc(0,"div",23),d.Wb(1,"input",26),d.Wb(2,"label",25),d.ac())}function O(t,e){if(1&t&&(d.bc(0,"span"),d.Qc(1),d.ac()),2&t){const t=d.nc().$implicit;d.Ib(1),d.Sc(" ",t.label," \xa0 ")}}function I(t,e){if(1&t&&(d.bc(0,"th"),d.Zb(1,29),d.Oc(2,O,2,1,"span",30),d.Yb(),d.ac()),2&t){const t=e.$implicit;d.Ib(1),d.uc("ngSwitch",t.field)}}function y(t,e){if(1&t&&(d.bc(0,"div"),d.Qc(1),d.ac()),2&t){const t=d.nc().$implicit,e=d.nc().$implicit;d.Ib(1),d.Rc(e[t.field])}}function D(t,e){if(1&t&&(d.bc(0,"div"),d.Qc(1),d.oc(2,"date"),d.ac()),2&t){const t=d.nc().$implicit,e=d.nc().$implicit;d.Ib(1),d.Rc(d.qc(2,1,1e3*e[t.field],"dd/MM/yyyy"))}}function S(t,e){1&t&&(d.bc(0,"div"),d.Qc(1,"---"),d.ac())}function w(t,e){if(1&t&&(d.bc(0,"span"),d.Qc(1),d.oc(2,"number"),d.ac()),2&t){const t=d.nc(2).$implicit;d.Ib(1),d.Rc(d.qc(2,1,t.creditAmount,"1.2-2"))}}function C(t,e){if(1&t&&(d.bc(0,"span"),d.Qc(1),d.oc(2,"number"),d.ac()),2&t){const t=d.nc(2).$implicit;d.Ib(1),d.Rc(d.qc(2,1,t.currentBalance,"1.2-2"))}}function x(t,e){if(1&t&&(d.bc(0,"span"),d.Qc(1),d.oc(2,"number"),d.ac()),2&t){const t=d.nc(2).$implicit;d.Ib(1),d.Rc(d.qc(2,1,t.debitAmount,"1.2-2"))}}function P(t,e){if(1&t&&(d.bc(0,"td"),d.Oc(1,y,2,1,"div",31),d.Oc(2,D,3,4,"div",31),d.Oc(3,S,2,0,"div",31),d.Oc(4,w,3,4,"span",31),d.Oc(5,C,3,4,"span",31),d.Oc(6,x,3,4,"span",31),d.ac()),2&t){const t=e.$implicit,c=d.nc().$implicit;d.Ib(1),d.uc("ngIf","creditAmount"!=t.field&&"currentBalance"!==t.field&&"debitAmount"!==t.field&&"txnDate"!=t.field),d.Ib(1),d.uc("ngIf","txnDate"==t.field),d.Ib(1),d.uc("ngIf",null==c[t.field]&&"debit"!==t.field),d.Ib(1),d.uc("ngIf","creditAmount"===t.field),d.Ib(1),d.uc("ngIf","currentBalance"===t.field),d.Ib(1),d.uc("ngIf","debitAmount"===t.field)}}function k(t,e){if(1&t&&(d.bc(0,"tr"),d.Oc(1,P,7,6,"td",28),d.ac()),2&t){const t=d.nc(2);d.Ib(1),d.uc("ngForOf",t.cols)}}const M=function(t,e,c){return{itemsPerPage:t,currentPage:e,totalItems:c}};function F(t,e){if(1&t&&(d.bc(0,"table",27),d.bc(1,"thead"),d.bc(2,"tr"),d.Oc(3,I,3,1,"th",28),d.ac(),d.ac(),d.bc(4,"tbody"),d.Oc(5,k,2,1,"tr",28),d.oc(6,"paginate"),d.ac(),d.ac()),2&t){const t=d.nc();d.Ib(3),d.uc("ngForOf",t.cols),d.Ib(2),d.uc("ngForOf",d.qc(6,2,t.topUpList,d.Ac(5,M,t.itemsPerPage,t.page,t.count)))}}function L(t,e){1&t&&(d.bc(0,"h4",32),d.Qc(1,"No data found !"),d.ac())}function A(t,e){if(1&t){const t=d.cc();d.bc(0,"div",41),d.jc("click",(function(){d.Ic(t);const c=e.$implicit;return d.nc(2).itemOnPage(c)})),d.Qc(1),d.ac()}if(2&t){const t=e.$implicit,c=d.nc(2);d.uc("ngClass",c.itemsPerPage==t?"item-number-active":"item-number"),d.Ib(1),d.Sc(" ",t," ")}}function Q(t,e){if(1&t&&(d.bc(0,"span",42),d.Qc(1),d.ac()),2&t){const t=d.nc(2);d.Ib(1),d.Sc("Total Amount-",t.amount," ")}}function T(t,e){if(1&t&&(d.bc(0,"span",42),d.Qc(1),d.ac()),2&t){const t=d.nc(2);d.Ib(1),d.Sc(" Total Count-",t.count,"")}}function R(t,e){if(1&t){const t=d.cc();d.bc(0,"div",33),d.bc(1,"div",34),d.bc(2,"div",35),d.bc(3,"span",36),d.Qc(4," Show "),d.ac(),d.Oc(5,A,2,2,"div",37),d.bc(6,"span",36),d.Qc(7," entries per page "),d.ac(),d.ac(),d.bc(8,"div",38),d.Oc(9,Q,2,1,"span",39),d.Wb(10,"br"),d.Oc(11,T,2,1,"span",39),d.bc(12,"pagination-controls",40),d.jc("pageChange",(function(e){return d.Ic(t),d.nc().pageChanged(e)})),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.nc();d.Ib(5),d.uc("ngForOf",t.entriesOnPage),d.Ib(4),d.uc("ngIf",t.amount),d.Ib(2),d.uc("ngIf",t.count)}}const _=[{path:"",component:(()=>{class t{constructor(t,e,c,n){this.formBuilder=t,this.notificationService=e,this.userService=c,this.topupService=n,this.title="angular-ngx-daterangepicker-material-app",this.formSubmitted=!1,this.roleAccess=l.a,this.selected={startDate:o("00:00","HH:mm"),endDate:o("23:59","HH:mm")},this.detailss=[],this.loading=!1,this.isSynefo=!1,this.tipEnable=!1,this.defaultToday=!0,this.cols=[{label:"Date",field:"txnDate",sortOptions:"",sort:"number"},{label:"Description",field:"remarks",sortOptions:"",sort:"number"},{label:"Reference No",field:"referenceNo",sortOptions:"",sort:"number"},{label:"Debit",field:"debitAmount",sortOptions:"",sort:"number"},{label:"Credit",field:"creditAmount",sortOptions:"",sort:"number"},{label:"Balance",field:"currentBalance",sortOptions:"",sort:"number"}],this.numberSortOptions=[{name:"Sort 0 to 9",value:"ASC",img:"a-z"},{name:"Sort 9 to 0",value:"DESC",img:"z-a"}],this.offset=0,this.topUpList=[],this.reportData=[],this.itemsPerPage=10,this.page=1,this.entriesOnPage=[5,10,15,20],this.searchCriteria={},this.ranges={"Last 7 Days":[o().subtract(6,"days"),o()],"Last 30 Days":[o().subtract(29,"days"),o()],"Last 3 Month":[o().subtract(3,"month").startOf("month"),o().subtract(1,"month").endOf("month")],"Last 6 Months":[o().subtract(6,"month").startOf("month"),o().subtract(1,"month").endOf("month")]},this.textSortOptions=[{name:"Sort A to Z",value:"ASC",img:"a-z"},{name:"Sort Z to A",value:"DESC",img:"z-a"}]}ngOnInit(){this.loggedInUser=this.userService.userValue,this.tipEnable=this.userService.userValue.tipEnabled,this.merchantIds=["ALL"].concat(this.userService.userValue.merchantIds),this.merchantId="ALL",this.merchData=this.userService.userValue.merchants,this.IsSynefoMerchant(),this.createForm(),this.search(!1),this.onClose=new s.a}createForm(){this.searchForm=this.formBuilder.group({searchDate:["",[r.y.required]],utrN:["",[r.y.required]],merchantID:["",r.y.required]})}pageChanged(t){this.page=t,this.search(!1)}itemOnPage(t){this.page=0,this.itemsPerPage=t,this.search(!1)}setSortOption(t,e){this.cols.forEach(c=>{t===c.field&&(c.sortOptions=e,this.selectedSortOption=e)})}sortingClick(t){this.sortField=this.selectedField,this.customSort({field:this.selectedField,order:"ASC"===t?1:-1,data:this.topUpList})}customSort(t){this.sortField.length>0&&(t.data&&t.data.sort((e,c)=>{let n=e[t.field],a=c[t.field],i=null;return i=null==n&&null!=a?-1:null!=n&&null==a?1:null==n&&null==a?0:"string"==typeof n&&"string"==typeof a?n.localeCompare(a):n<a?-1:n>a?1:0,t.order*i}),this.sortField="")}chekDateSelection(t){this.defaultToday="today"==t.target.value}handleKeypress(t){return t.preventDefault(),!1}search(t){let e,c;1==t&&(this.page=1),null==this.searchForm.value.searchDate.startDate&&null==this.searchForm.value.searchDate.endDate?(e=this.selected.startDate,c=this.selected.endDate):this.defaultToday?(e=this.selected.startDate,c=this.selected.endDate,console.log(this.searchForm.value)):(e=this.searchForm.value.searchDate.startDate,c=this.searchForm.value.searchDate.endDate);const n=new Date(e).getTime()/1e3,a=new Date(c).getTime()/1e3;let i=this.page;this.page>0&&(i=this.page-1),this.topupService.getTopUpList({fromDate:n,toDate:a,merchantType:this.userService.userValue.merchantType}).subscribe(t=>{this.topUpList=t.data,this.currentBalance=t.balance})}downloadReport(t,e){}getMerchantList(){}IsSynefoMerchant(){}oopenModal(t,e){}}return t.\u0275fac=function(e){return new(e||t)(d.Vb(r.c),d.Vb(u.a),d.Vb(p.a),d.Vb(f))},t.\u0275cmp=d.Pb({type:t,selectors:[["app-topup"]],decls:36,vars:11,consts:[[1,"container-fluid","p-0",2,"height","100vh"],[1,"row","box","mt-3"],[1,"col-md-12","card-header",2,"font-weight","700"],[1,"fa","fa-share-square","ml-2",2,"font-weight","700"],[1,"col-md-12",3,"formGroup"],[1,"mt-2"],[1,"row",2,"display","flex"],[1,"col-md-1","p-4","mt-2","ml-2"],["for","radio1",1,"form-check-label"],["type","radio","id","radio1","name","optradio","value","today",1,"form-check-input",3,"checked","change"],[1,"col-md-auto","mt-3","ml-2","p-0"],["for","radio2",1,"form-check-label"],["type","radio","id","radio2","name","optradio","value","otherDay",1,"form-check-input",3,"change"],["class","col-md-4 p-0 pt-4 mr-2 ",4,"ngIf"],[1,"col-md-2","mt-4"],[1,"btn",2,"background-color","rgb(49, 179, 230)","color","white",3,"click"],[1,"col","mb-3",2,"font-size","18px","font-weight","500","text-align","center"],[2,"font-weight","700"],[2,"color","rgb(49, 211, 49)","font-weight","700"],[1,"col-md-12",2,"overflow-x","scroll"],["class","table table-striped table-hover table-responsive-lg",4,"ngIf","ngIfElse"],["other_content",""],["class","container-fluid mt-3",4,"ngIf"],[1,"col-md-4","p-0","pt-4","mr-2"],["id","calendar-input","type","text","placeholder","Select Date Range","ngxDaterangepickerMd","",1,"form-control",3,"formControl","locale","dateLimit","autoApply","showCustomRangeLabel","alwaysShowCalendars","timePicker","timePicker24Hour","ranges","linkedCalendars","keepCalendarOpeningWithRange"],["id","icon","for","calendar-input",1,"date-range-picker-icon","fa","fa-calendar"],["disabled","true","readonly","","type","text","placeholder","Select Date Range",1,"form-control"],[1,"table","table-striped","table-hover","table-responsive-lg"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngIf"],[1,"p-4",2,"text-align","center","color","lightgray"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-md-4","d-inline-flex"],[1,"p-2",2,"font-weight","700","color","lightslategray"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-md-8","myDiv1"],["style","font-weight: 700;  color: lightslategray;padding-left: 150px;",4,"ngIf"],[1,"float-right","mDiv",3,"pageChange"],[3,"ngClass","click"],[2,"font-weight","700","color","lightslategray","padding-left","150px"]],template:function(t,e){if(1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"div",2),d.Wb(3,"i",3),d.Qc(4,"Top-Up Account "),d.ac(),d.bc(5,"form",4),d.bc(6,"h5",5),d.Qc(7,"Select Duration :"),d.ac(),d.bc(8,"div",6),d.bc(9,"div",7),d.bc(10,"label",8),d.bc(11,"input",9),d.jc("change",(function(t){return e.chekDateSelection(t)})),d.ac(),d.Qc(12,"Today "),d.ac(),d.ac(),d.bc(13,"div",10),d.bc(14,"label",11),d.bc(15,"input",12),d.jc("change",(function(t){return e.chekDateSelection(t)})),d.ac(),d.ac(),d.ac(),d.Oc(16,g,3,12,"div",13),d.Oc(17,v,3,0,"div",13),d.bc(18,"div",14),d.bc(19,"button",15),d.jc("click",(function(){return e.search(!0)})),d.Qc(20,"Search"),d.ac(),d.ac(),d.bc(21,"div",16),d.Qc(22," Top UP A/c"),d.Wb(23,"br"),d.bc(24,"span",17),d.Qc(25,"Current Balance"),d.ac(),d.Wb(26,"br"),d.bc(27,"span",18),d.Qc(28),d.oc(29,"number"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(30,"div",1),d.bc(31,"div",19),d.Oc(32,F,7,9,"table",20),d.Oc(33,L,2,0,"ng-template",null,21,d.Pc),d.ac(),d.Oc(35,R,13,3,"div",22),d.ac(),d.ac()),2&t){const t=d.Fc(34);d.Ib(5),d.uc("formGroup",e.searchForm),d.Ib(6),d.uc("checked",e.defaultToday),d.Ib(5),d.uc("ngIf",!e.defaultToday),d.Ib(1),d.uc("ngIf",e.defaultToday),d.Ib(11),d.Rc(d.qc(29,8,e.currentBalance,"1.2-2")),d.Ib(4),d.uc("ngIf",(null==e.topUpList?null:e.topUpList.length)>0)("ngIfElse",t),d.Ib(3),d.uc("ngIf",(null==e.topUpList?null:e.topUpList.length)>0)}},directives:[r.A,r.o,r.h,n.n,a.a,r.b,r.n,r.e,n.m,n.p,n.r,b.c,n.l],pipes:[n.f,b.b,n.e],styles:[".bnt[_ngcontent-%COMP%]{font-size:14px}.box[_ngcontent-%COMP%]{background-color:#fff}.item-number[_ngcontent-%COMP%], .item-number-active[_ngcontent-%COMP%]{display:inline-block;border:1px solid hsla(0,0%,50.2%,.7);padding-left:9px;padding-right:9px;padding-top:2px;height:30px;cursor:pointer;margin:1px}.item-number-active[_ngcontent-%COMP%]{background-color:#2199e8;color:#fff}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left}td[_ngcontent-%COMP%]{padding:5px}.dropdown-menu[_ngcontent-%COMP%]{min-width:0}.show-data[_ngcontent-%COMP%]{overflow-x:scroll}#icon[_ngcontent-%COMP%]{float:right;margin-top:-24px;font-size:17px;padding-right:8px}  .md-drppicker{width:600px!important}th[_ngcontent-%COMP%]{border-top:none;white-space:nowrap;padding:.4rem}.modal-body[_ngcontent-%COMP%]{overflow-x:scroll;padding:3px!important}.modal-header[_ngcontent-%COMP%]{background-color:#f2f2f2}.mDiv[_ngcontent-%COMP%]{margin-top:-20px}@media screen and (min-width:700px) and (max-width:1384px){.mDiv[_ngcontent-%COMP%]{margin-top:-40px;margin-left:300px}.myDiv1[_ngcontent-%COMP%]{float:right}}"]}),t})()}];let U=(()=>{class t{}return t.\u0275mod=d.Tb({type:t}),t.\u0275inj=d.Sb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(_)],i.g]}),t})(),$=(()=>{class t{}return t.\u0275mod=d.Tb({type:t}),t.\u0275inj=d.Sb({factory:function(e){return new(e||t)},imports:[[n.c,U,r.i,r.v,b.a,a.b.forRoot()]]}),t})()}}]);